<!DOCTYPE html>
<html  lang="en">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 4.2.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>Tag: coding - weiwen🐟1990</title>


    <meta property="og:type" content="website">
<meta property="og:title" content="weiwen🐟1990">
<meta property="og:url" content="http://weiwen.ai/tags/coding/index.html">
<meta property="og:site_name" content="weiwen🐟1990">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://weiwen.ai/images/og_image.png">
<meta property="article:author" content="WEI Wen">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://weiwen.ai/images/og_image.png">







<link rel="icon" href="/images/thumb-default-small.png">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
<style>body>.footer,body>.navbar,body>.section{opacity:0}</style>

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">

    
    
    
    
<link rel="stylesheet" href="/css/back-to-top.css">

    
    
    
    
    
    
    
    <link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
    
    
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.png" alt="weiwen🐟1990" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">Home</a>
                
                <a class="navbar-item"
                href="/archives">Archives</a>
                
                <a class="navbar-item"
                href="/categories">Categories</a>
                
                <a class="navbar-item"
                href="/tags">Tags</a>
                
                <a class="navbar-item"
                href="/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    <a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main"><div class="card">
    <div class="card-content">
        <nav class="breadcrumb" aria-label="breadcrumbs">
        <ul>
            <li><a href="/tags">Tags</a></li>
            <li class="is-active"><a href="#" aria-current="page">coding</a></li>
        </ul>
        </nav>
    </div>
</div>

    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-02-19T03:57:40.000Z">2017-02-19</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    2 minutes read (About 237 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/02/19/some-solutions-when-migrating-from-iOS-Android-to-Windows/">从iOS/Android移植Windows需作出的一些修改</a>
            
        </h1>
        <div class="content">
            <p><strong>pthread不认识相关报错</strong><br>Windows下需要明确包含库</p>
<blockquote>
<p>#include &lt; pthread.h&gt;</p>
</blockquote>
<p><strong>实现android提供的函数 clock_gettime(CLOCK_REALTIME, &amp;result);</strong><br><a href="http://stackoverflow.com/questions/5404277/porting-clock-gettime-to-windows">http://stackoverflow.com/questions/5404277/porting-clock-gettime-to-windows</a></p>
<p><strong>sleep()函数</strong></p>
<blockquote>
<p>#include &lt; windows.h&gt; 使用 Sleep()</p>
</blockquote>
<p><strong>Xcode创建的源码文件，有中文字符，VS理解不能</strong><br>用NotePad++打开源代码，编码 从UTF-8无BOM格式 -&gt; UTF-8<br>Configuration Properties -&gt; General -&gt; Character Set =&gt; Use Unicode Character Set / Use Multi-Byte Character Set</p>
<p><strong>dll, lib, .h 文件添加套路</strong><br>dll      ——&gt;动态链接库<br>include  ——&gt;头文件        C/C++ -&gt; General -&gt; Additional Include Directories<br>lib      ——&gt;静态链接库     文件目录增加到：Linker -&gt; General -&gt; Additional Library Directories<br>                          文件名增加到：Linker -&gt; Input -&gt; Additional Dependencies</p>
<p><strong>Cocos2d-x实现 Resources/ 资源文件 自动拷贝到exe输出目录供调用</strong><br><a href="http://www.cocos2d-x.org/wiki/Chapter_2_-_How_to_Add_a_sprite">http://www.cocos2d-x.org/wiki/Chapter_2_-_How_to_Add_a_sprite</a><br>注意 我改为了 “..\Resources”</p>
<p><strong>cocos2d win32 glsl 不认识 highp 导致shader无效</strong><br>删掉.fsh/.vsh中的 <strong>highp</strong> 即可运行，未发现问题。</p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-02-19T03:15:08.000Z">2017-02-19</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    3 minutes read (About 385 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/02/19/svn-commands/">svn有用的一些命令</a>
            
        </h1>
        <div class="content">
            <p><strong>使用本地目录在svn创建版本库</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">svn import 本地文件夹路径 svn:&#x2F;&#x2F;[ip]&#x2F;[路径]&#x2F;[名称] -m &#39;评论(必需)&#39;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>   <a href="http://www.cnblogs.com/hitwtx/archive/2011/11/16/2251581.html">注意</a>，完成导入后，原目录<del>/projects/hello并不转换为“工作副本(working copy)”，而且该项目已经转由该仓库接管，即该仓库中已经包含了首次导入的工程的所有信息，与源目录</del>/project/hello再无任何关系，我 们完全可以删除这一目录而不必担心丢失工程项目数据。注意，如果源目录并不是一个“工作副本”，那么就无法用svn进行管理，在其中所作的任何变动都无法 提交到仓库。<br>   要用subversion对工程进行版本管理，那么工程项目的开发必须在一个“工作副本”中进行，即首先要从仓库获取一个“工作副本”。 </p>
</blockquote>
<p><strong>神奇的命令：将目录及子目录中所有后缀为.a的文件加入版本控制</strong> 🙏刚司机现场组装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -iname &quot;*.a&quot; -exec svn add &#123;&#125; \;</span><br></pre></td></tr></table></figure>

<p><strong>几个有用命令：st, info, ls</strong></p>
<blockquote>
<p>svn st<br>列出本地所有相较版本库有变化的文件，包括M修改过，?未控制，A新增等等。</p>
</blockquote>
<blockquote>
<p>svn info<br>列出本项目的各参数信息，包括版本库url等等。</p>
</blockquote>
<blockquote>
<p>svn ls [url]<br>列出版本库下文件结构，有哪些项目。</p>
</blockquote>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-01-15T03:05:22.000Z">2017-01-15</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    14 minutes read (About 2075 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/01/15/IDEs-for-Android-on-mac/">IDEs for Android on Mac 踩坑实录</a>
            
        </h1>
        <div class="content">
            <h3 id="eclipse"><a href="#eclipse" class="headerlink" title="eclipse"></a>eclipse</h3><p>自行安装eclipse，除了配置SDK／NDK，还需配置ADT <a href="http://blog.csdn.net/dr_neo/article/details/46941859">eclipse中离线安装ADT插件详细教程</a></p>
<p>志明同学指导：”有快捷方式图标的，都是android目录外的。”</p>
<p><strong>⚠️ 注意！不要修改工程的ndk设置</strong><br>而要直接设置 eclipse -&gt; 偏好 C/C++ -&gt; Build -&gt; Environment + ‘NDK_ROOT’</p>
<p><strong>发现了以元素 ‘d:skin’ 开头的无效内容。此处不应含有子元素。</strong><br>sdk目录\tools\lib下的devices.xml替换掉出错的devices.xml，然后重新启动eclipse。</p>
<hr>
<h3 id="Android-Studio-Recommended"><a href="#Android-Studio-Recommended" class="headerlink" title="Android Studio (Recommended)"></a>Android Studio (Recommended)</h3><p>用eclipse而不熟悉AndroidStudio的人，建议先读资料：<a href="http://ask.android-studio.org/?/article/20">名词概念辨析</a></p>
<blockquote>
<p>Eclipse 的 <strong>Project</strong> 等同于Android Studio的 <strong>Module</strong> 。<br>Eclipse 的 <strong>workspace</strong> 等同于Android Studio的 <strong>Project</strong> 。</p>
</blockquote>
<p>以下两条分割线之间的内容，均摘录自文章<a href="http://blog.csdn.net/wl9739/article/details/52607010">在 Android Studio 2.2 中愉快地使用 C/C++</a></p>
<hr>
<p>使用 Android studio，你可以将 C 和 C++ 代码构建成 native library（即 .so 文件），然后打包到你的 APK 中。你的 Java 代码可以通过 Java Native Interface（JNI）调用 native library 库中的方法。</p>
<p>Android Studio 默认使用 CMake 编译原生库。由于已经有大量的代码使用了 ndk-build 来编译 native code，所以 Android Studio 同样也支持 ndk build。如果你想导入一个 ndk-build 库到你的 Android Studio 项目中，请参阅后文的 关联本地库与 Gradle 部分。然而，如果你创建了一个新的 native 库工程，你应该使用 CMake。</p>
<h4 id="下载-NDK-和构建工具"><a href="#下载-NDK-和构建工具" class="headerlink" title="下载 NDK 和构建工具"></a>下载 NDK 和构建工具</h4><p>要编译和调试本地代码（native code），你需要下面的组件：</p>
<ul>
<li><em>The Android Native Development Kit (NDK)</em>: 让你能在 Android 上面使用 C 和 C++ 代码的工具集。</li>
<li><em>CMake</em>: 外部构建工具。如果你准备只使用 ndk-build 的话，可以不使用它。</li>
<li><em>LLDB</em>: Android Studio 上面调试本地代码的工具。</li>
</ul>
<p>你可以使用 SDK Manager 来安装上述组件</p>
<ol>
<li>打开一个项目，从菜单栏中选择 Tools &gt; Android &gt; SDK Manager。</li>
<li>点击 SDK Tools 选项卡。</li>
<li>勾选 LLDB，CMake 和 NDK。</li>
<li>点击 Apply，然后点击 OK。</li>
<li>当安装完成后，点击 Finish，然后点击 OK。</li>
</ol>
<h4 id="将-C-C-代码添加到现有的项目中"><a href="#将-C-C-代码添加到现有的项目中" class="headerlink" title="将 C/C++ 代码添加到现有的项目中"></a>将 C/C++ 代码添加到现有的项目中</h4><p>如果你想将 native code 添加到一个现有的项目中，请按照下面的步骤操作：</p>
<ol>
<li>创建新的 native source 文件，并将其添加到你的 Android Studio 项目中。如果你已经有了 native code，也可以跳过这一步。</li>
<li>创建一个 CMake 构建脚本。如果你已经有了一个 CMakeLists.txt 构建脚本，或者你想使用 ndk-build 然后有一个 Android.mk 构建脚本，也可以跳过这一步。</li>
<li>将你的 native library 与 Gradle 关联起来。Gradle 使用构建脚本将源码导入到你的 Android Studio 项目中，并且将你的 native library （也就是 .so 文件）打包到 APK 中。<br>一旦你配置好了项目，你就可以在 Java 代码中，使用 JNI 框架开调用原生函数（native functions）。只需要点击 Run 按钮，就可以编译运行你的 APP 了。</li>
</ol>
<h4 id="创建新的-native-source-文件"><a href="#创建新的-native-source-文件" class="headerlink" title="创建新的 native source 文件"></a>创建新的 native source 文件</h4><p>请按照下面的方法来创建一个 cpp/ 目录和源文件（native source files）：</p>
<ol>
<li>打开IDE左边的 Project 面板，选择 Project 视图。</li>
<li>找到你项目的 module &gt; src 目录，右键点击 main 目录，选择 New &gt; Directory。</li>
<li>输入目录的名字（比如 cpp），然后点击 OK。</li>
<li>右键点击刚才创建好的目录，选择 New &gt; C/C++ Source File。</li>
<li>输入文件名，比如 native-lib。</li>
<li>在 Type 菜单下拉选项中，选择源文件的扩展后缀名，比如 .cpp。</li>
<li>如果你也想创建一个头文件，点击 Create an associated header 选项框。</li>
<li>点击 OK。</li>
</ol>
<hr>
<h3 id="Android-Studio-import-cocos2d-project-FAILED"><a href="#Android-Studio-import-cocos2d-project-FAILED" class="headerlink" title="Android Studio - import cocos2d project (FAILED)"></a>Android Studio - import cocos2d project (FAILED)</h3><p>cocos2d自动创建的工程，proj.android本意是给eclipse使用的。好在Android Studio导入时能判断它是eclipse工程，并提示：将会拷贝新建自用的proj.android而不会覆盖。一路下一步就可以啦。</p>
<p>遇到第一个问题：<br><strong>Error: Your project contains C++ files but it is not using a supported native build system.</strong><br><strong>Consider using CMake or ndk-build integration with the stable Android Gradle plugin:</strong><br>    <a href="https://developer.android.com/studio/projects/add-native-code.html">https://developer.android.com/studio/projects/add-native-code.html</a><br><strong>or use the experimental plugin:</strong><br>    <a href="http://tools.android.com/tech-docs/new-build-system/gradle-experimental">http://tools.android.com/tech-docs/new-build-system/gradle-experimental</a>.</p>
<hr>
<h3 id="Android-Studio-create-cocos2d-project-FAILED"><a href="#Android-Studio-create-cocos2d-project-FAILED" class="headerlink" title="Android Studio - create cocos2d project (FAILED)"></a>Android Studio - create cocos2d project (FAILED)</h3><p>follow instruction <a href="http://cocos2d-x.org/docs/editors_and_tools/cocosCLTool/">Cocos command-line tool
</a>(这篇官方教程教授的是用命令行实现从建立工程到编译apk的整个过程)</p>
<ol>
<li>“python setup.py” in cocos2d root folder</li>
<li>“cocos new _<project name_> -p com.MyCompany.MyGame -l cpp -d _<location_>“</li>
<li>“cocos compile -s _<path to your project_> -p android <strong>–android-studio</strong> [-m debug] –ap android-25” ［注意⚠️］</li>
</ol>
<ul>
<li>命令里含有”–android-studio”，这是专门针对Android Studio进行编译。如果不运行这一步，原生C++代码无法运行。[<a href="http://m.blog.csdn.net/article/details?id=49026035">link</a>]</li>
<li>“–ap android-version”是Android必需的 奇怪的是，我这里在version=25时成功，10,13,16等较低版本都报错：<br><strong>./platform/CCFileUtils.cpp:274: error: undefined reference to ‘atof’</strong></li>
</ul>
<p><em>上面的第2,3步可能遇到的问题及解决如下，若涉及修改 ~/.bash_profile 的操作，之后都要执行 source ~/.bash_profile 来使设置生效。</em><br><strong>NDK_ROOT / ANDROID_SDK_ROOT / ANT_ROOT 无效</strong><br>~/.bash_profile 增加如下行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export LC_ALL&#x3D;en_US.UTF-8</span><br><span class="line">export LANG&#x3D;en_US.UTF-8</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export NDK_ROOT&#x3D;&#x2F;Users&#x2F;...&#x2F;android-sdk-macosx&#x2F;ndk-bundle</span><br><span class="line">export ANDROID_SDK_ROOT&#x3D;&#x2F;Users&#x2F;...&#x2F;android-sdk-macosx</span><br><span class="line">export ANT_ROOT&#x3D;&#x2F;Users&#x2F;...&#x2F;apache-ant-1.8.1&#x2F;bin</span><br></pre></td></tr></table></figure>
<p>［注意］<strong>ANT_ROOT__要指向/bin子目录，否则会报错：</strong>…/apache-ant-1.8.1/ant: No such file or directory__</p>
<p><strong>Error: JAVA_HOME is not defined correctly.</strong><br>~/.bash_profile 增加</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME&#x3D;$(&#x2F;usr&#x2F;libexec&#x2F;java_home)</span><br><span class="line">export PATH&#x3D;$JAVA_HOME&#x2F;jre&#x2F;bin:$PATH</span><br></pre></td></tr></table></figure>

<p>terminal出现类似下面语句，即表示成功。</p>
<blockquote>
<p>BUILD SUCCESSFUL<br>Total time: 15 seconds<br>Move apk to _<path to your project_>/bin/debug/android<br>Build succeed.</p>
</blockquote>
<p><strong>‘Open existing Android Studio project’时卡在 building ‘proj.android-studio’ gradle project info</strong><br>打开该目录下gradle/wrapper/gradle-wrapper.properties，最后一行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">distributionUrl&#x3D;https\:&#x2F;&#x2F;services.gradle.org&#x2F;distributions&#x2F;gradle-版本号-all.zip</span><br></pre></td></tr></table></figure>
<p>原因：正在下载相应版本的gradle，然而被墙卡住。</p>
<ul>
<li>最好方法：通过VPN让它自己下下来。</li>
<li>方法二：手动下载相应版本的gradle-版本号-all.zip，不解压置于/Users/username/.gradle/wrapper/dists/相应版本号/一串乱码/ 目录下。</li>
<li>方法三（没办法的办法，并不总能奏效）：将版本号替换为本地已安装的gradle版本号，具体可从AndroidStudio设置中查到，或从/Users/username/.gradle/wrapper/dists/中查到。</li>
</ul>
<p>最终，terminal中出现绿色”Build succeed.”字样，表示工程成功生成，用Android Studio import “/proj.android-studio” 即可。可以在真机运行HelloWorld，然而cpp部分并不在工程中，猜测可能是提前编译为.so文件，供Java调用，这仍不是我们想要的。</p>
<hr>
<h4 id="Cocos2d-x相关问题解决"><a href="#Cocos2d-x相关问题解决" class="headerlink" title="Cocos2d-x相关问题解决"></a>Cocos2d-x相关问题解决</h4><p><strong>import com.loopj.android.http.AsyncHttpClient</strong> <a href="http://discuss.cocos2d-x.org/t/cocos2d-x-3-9-eclipse-problem-solution/25060">回答贴链接</a><br>解决方法：add jar ‘cocos2d-x\cocos\platform\android\java\libs\android-async-http-1.4.8.jar’<br><strong>相关知识 <a href="http://blog.csdn.net/haqer0825/article/details/8183264">add jars和add external jars有什么区别？</a></strong> </p>
<blockquote>
<p>android中导入第三方jar包的正确方式<br>1，右键工程–&gt;Build path–&gt;java build path,<br>2，选择libraries在右边的按钮中点击“Add Library”<br>3，选择“User library”,点击“下一步”<br>4，点击“User librarys”按钮在出现的界面中点击“New..”按钮,在弹出的界面中随便起一个名字，点击“确定”<br>5，点击“Add jars”按钮选择第三方jar包，点击“确定”完成操作。这样的话该jar包会被一起打包到apk中，问题也就解决了</p>
</blockquote>
<hr>
<h4 id="其他小问题解决记录"><a href="#其他小问题解决记录" class="headerlink" title="其他小问题解决记录"></a>其他小问题解决记录</h4><p><strong>How to delete a module in Android Studio</strong><br>File -&gt; Project Structure, select a Module, click “minus” button. [<a href="http://stackoverflow.com/a/24592192/2918210">link</a>]</p>
<p><strong>如何修改minSdkVersion</strong><br>在build.gradle文件中. [<a href="http://stackoverflow.com/a/20449862/2918210">link</a>]</p>
<p><strong>“unknowm skin name nexus_5”</strong><br>未知原因导致的AVD问题，直接在AVD manager里删除重建模拟器就解决了。</p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2016-12-12T16:04:45.000Z">2016-12-13</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    8 minutes read (About 1171 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2016/12/13/one-problem-with-two-solutions/">一道题的两个解法</a>
            
        </h1>
        <div class="content">
            <p>HackerRank的HourOfCode2016题组，平均难度较低，然而有一道题把我难住了。</p>
<blockquote>
<p><a href="https://www.hackerrank.com/contests/hour-of-code-2016/challenges/the-great-robbery/copy-from/8049286">The great robbery</a></p>
</blockquote>
<blockquote>
<p>While going to winter vacation you found a beautiful frozen lake. You noticed something shiny in the middle of it. When you got closer you realized that there is a huge pile of gold bars on a little island.</p>
</blockquote>
<p>Realizing that you are rich, you started dreaming about everything you could buy, but first of all you have to collect all the gold. Unfortunately, the ice on the lake is not strong enough and cannot support the weight of all the gold. However, you know that the lake can be represented by a 2 dimensional matrix where every cell of the matrix has a value corresponding to the maximum weight of gold that can be transported over that field.</p>
<blockquote>
</blockquote>
<p>You are given the coordinates of your current position and the coordinates of your destination. Find a route that enables you to take as much gold as possible and print that amount of gold. You can asume that the amount of gold on the island is always equal to the maximal amount of gold that can be on that tile.</p>
<blockquote>
</blockquote>
<p>Keep in mind that the path that enables you to take the highest amount of gold doesn’t have to be the shortest path!</p>
<blockquote>
<p><strong>Input Format</strong><br>The first row contains two numbers <strong>N</strong> and <strong>M</strong>, the height and width of the lake.<br>The second row contains two numbers <strong>StartX</strong> and <strong>StartY</strong>, representing the starting coordinates.<br>The third row contains two numbers <strong>DestinationX</strong> and <strong>DestinationY</strong>, representing the coordinates of the destination.<br>This is followed by <strong>N</strong> rows containing <strong>M</strong> numbers each, containing the values for the matrix representing the lake.</p>
</blockquote>
<p><strong>Sample</strong><br><img src="https://raw.githubusercontent.com/veslam/blog/master/res/20161213_01_HackerRank.png" alt="Start和End之间最大路径宽度为5"></p>
<p><strong>题意</strong><br>四连通矩阵，求起始点到目标点之间，最大的路径容量。路径容量由途经元素中最小的容量决定。</p>
<p><strong>我的思路</strong><br>建等大矩阵max2start，每个元素的值表示由起始点到当前点的已知最大路径容量，初始化都为0。采用队列结构，每个循环弹出队首，更新它4个邻居的max2start值，并压入队列。<br>初始化压入起始点，一直循环到队空为止。<br>这么做应该不会有错误，但可想而知，一个元素可能多次被压入队列，耗时太久，RunTimeError了2/3的TestCases……</p>
<p>下面说读满分代码发现的两种答案。<br>答案一：思路大致类似，但增加了等大Bool矩阵visited，而且是实用Priority Queue。<br><a href="https://www.hackerrank.com/rest/contests/hour-of-code-2016/challenges/the-great-robbery/hackers/_LELOY_/download_solution">_LELOY_的解法</a></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">pair</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; ii;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">pair</span>&lt;<span class="keyword">int</span>, ii&gt;   iii;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CompareDist</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(iii n1, iii n2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n1.first &lt; n2.first;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> N, M;       <span class="built_in">cin</span>&gt;&gt;N&gt;&gt;M;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; grid(N, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(M, <span class="number">0</span>));</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> sI, sJ;     <span class="built_in">cin</span>&gt;&gt;sJ&gt;&gt;sI;</span><br><span class="line">    <span class="keyword">int</span> eI, eJ;     <span class="built_in">cin</span>&gt;&gt;eJ&gt;&gt;eI;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; ++j) &#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;grid[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; vis(N, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(M, <span class="literal">false</span>));</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">priority_queue</span>&lt;iii, <span class="built_in">vector</span>&lt;iii&gt; , CompareDist &gt; q;</span><br><span class="line">    q.push(<span class="built_in">make_pair</span>(grid[sI][sJ], <span class="built_in">make_pair</span>(sI, sJ)));</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(!q.empty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> i = q.top().second.first;</span><br><span class="line">        <span class="keyword">int</span> j = q.top().second.second;</span><br><span class="line">        <span class="keyword">int</span> g = q.top().first;</span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="comment">//cout&lt;&lt;g&lt;&lt;&quot; &quot;&lt;&lt;i&lt;&lt;&quot; &quot;&lt;&lt;j&lt;&lt;&quot; &quot;&lt;&lt;vis[i][j];</span></span><br><span class="line">        vis[i][j] = <span class="literal">true</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> dr[] = &#123;<span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span> dc[] = &#123;<span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>&#125;;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">4</span>; ++k) &#123;</span><br><span class="line">            <span class="keyword">int</span> ti = i + dr[k];</span><br><span class="line">            <span class="keyword">int</span> tj = j + dc[k];</span><br><span class="line">            <span class="keyword">if</span> (ti &lt; <span class="number">0</span> || tj &lt; <span class="number">0</span> || ti &gt;= N || tj &gt;= M)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (vis[ti][tj])</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][j] &lt; grid[ti][tj]) &#123;</span><br><span class="line">                grid[ti][tj] = grid[i][j];</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">            q.push(<span class="built_in">make_pair</span>(grid[ti][tj], <span class="built_in">make_pair</span>(ti, tj)));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        cout&lt;&lt;&quot; done&quot;&lt;&lt;endl;</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        for (auto a: grid) &#123;</span></span><br><span class="line"><span class="comment">            for (auto b: a) &#123;</span></span><br><span class="line"><span class="comment">                cout&lt;&lt;b&lt;&lt;&quot; &quot;;</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">            cout&lt;&lt;endl;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        cout&lt;&lt;endl;</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;grid[eI][eJ]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>答案二：二分查找的思想。这是我第一次见到。可以这么想：<br>既然需要找容量最大的可行路径，而且已知所有元素的值在[<em>Min</em>, <em>Max</em>]之间，那么解肯定也在这个范围内。那么我只要不断用一个中值med，测试是否有一条容量大于等于med的路径就行。<br>二分查找的精彩运用啊！<br>如何测试是否有这条路径呢？类似的，bool矩阵visited + 普通队列就可实现。</p>
<p><a href="https://www.hackerrank.com/rest/contests/hour-of-code-2016/challenges/the-great-robbery/hackers/cs1235/download_solution">cs1235的解法</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Pair</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x;</span><br><span class="line">        <span class="keyword">int</span> y;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Pair</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x = x;</span><br><span class="line">            <span class="keyword">this</span>.y = y;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">reachableWithWeight</span><span class="params">(<span class="keyword">int</span> h, <span class="keyword">int</span> w, <span class="keyword">int</span>[][] grid, <span class="keyword">int</span> startX, <span class="keyword">int</span> startY, <span class="keyword">int</span> destX, <span class="keyword">int</span> destY, <span class="keyword">int</span> weight)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(weight &gt; grid[startY][startX]) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">boolean</span>[][] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[h][w];</span><br><span class="line">        Queue&lt;Pair&gt; queue = <span class="keyword">new</span> LinkedList&lt;Pair&gt;();</span><br><span class="line">        queue.add(<span class="keyword">new</span> Pair(startX, startY));</span><br><span class="line">        <span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">            Pair next = queue.poll();</span><br><span class="line">            <span class="keyword">int</span> x = next.x;</span><br><span class="line">            <span class="keyword">int</span> y = next.y;</span><br><span class="line">            <span class="keyword">if</span>(x &lt; <span class="number">0</span> || x &gt;= w || y &lt; <span class="number">0</span> || y &gt;= h) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(visited[y][x]) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//System.out.println(y + &quot; &quot; + x);</span></span><br><span class="line">            visited[y][x] = <span class="keyword">true</span>;</span><br><span class="line">            <span class="keyword">if</span>(weight &gt; grid[y][x]) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(x == destX &amp;&amp; y == destY) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            queue.add(<span class="keyword">new</span> Pair(x + <span class="number">1</span>, y));</span><br><span class="line">            queue.add(<span class="keyword">new</span> Pair(x - <span class="number">1</span>, y));</span><br><span class="line">            queue.add(<span class="keyword">new</span> Pair(x, y + <span class="number">1</span>));</span><br><span class="line">            queue.add(<span class="keyword">new</span> Pair(x, y - <span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        BufferedReader f = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">        StringTokenizer st = <span class="keyword">new</span> StringTokenizer(f.readLine());</span><br><span class="line">        <span class="keyword">int</span> n = Integer.parseInt(st.nextToken());</span><br><span class="line">        <span class="keyword">int</span> m = Integer.parseInt(st.nextToken());</span><br><span class="line">        st = <span class="keyword">new</span> StringTokenizer(f.readLine());</span><br><span class="line">        <span class="keyword">int</span> startX = Integer.parseInt(st.nextToken());</span><br><span class="line">        <span class="keyword">int</span> startY = Integer.parseInt(st.nextToken());</span><br><span class="line">        st = <span class="keyword">new</span> StringTokenizer(f.readLine());</span><br><span class="line">        <span class="keyword">int</span> destX = Integer.parseInt(st.nextToken());</span><br><span class="line">        <span class="keyword">int</span> destY = Integer.parseInt(st.nextToken());</span><br><span class="line">        <span class="keyword">int</span>[][] grid = <span class="keyword">new</span> <span class="keyword">int</span>[n][m];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            st = <span class="keyword">new</span> StringTokenizer(f.readLine());</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++) &#123;</span><br><span class="line">                grid[i][j] = Integer.parseInt(st.nextToken());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> lower = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> upper = <span class="number">1000000000</span>;</span><br><span class="line">        <span class="keyword">while</span>(lower &lt; upper) &#123;</span><br><span class="line">            <span class="keyword">int</span> med = (lower + upper)/<span class="number">2</span>;</span><br><span class="line">            <span class="comment">//System.out.println(med);</span></span><br><span class="line">            <span class="keyword">if</span>(reachableWithWeight(n, m, grid, startX, startY, destX, destY, med)) &#123;</span><br><span class="line">                lower = med + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                upper = med;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//System.out.println();</span></span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(lower - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>最后放一个我参考方法一的Python代码，思路一样然而超时了…… 第一次用Python的PriorityQueue。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> queue</span><br><span class="line"></span><br><span class="line">n, m = <span class="built_in">input</span>().strip().split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">n, m = [<span class="built_in">int</span>(n), <span class="built_in">int</span>(m)]</span><br><span class="line">sX, sY = <span class="built_in">input</span>().strip().split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">sX, sY = [<span class="built_in">int</span>(sX), <span class="built_in">int</span>(sY)]</span><br><span class="line">dX, dY = <span class="built_in">input</span>().strip().split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">dX, dY = [<span class="built_in">int</span>(dX), <span class="built_in">int</span>(dY)]</span><br><span class="line"></span><br><span class="line">ice = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">    a_t = [<span class="built_in">int</span>(a_temp) <span class="keyword">for</span> a_temp <span class="keyword">in</span> <span class="built_in">input</span>().strip().split(<span class="string">&#x27; &#x27;</span>)]</span><br><span class="line">    ice.append(a_t)   </span><br><span class="line"><span class="comment">#print(ice)</span></span><br><span class="line"></span><br><span class="line">visited = [[<span class="literal">False</span> <span class="keyword">for</span> col <span class="keyword">in</span> <span class="built_in">range</span>(m)] <span class="keyword">for</span> row <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line"></span><br><span class="line">q = queue.PriorityQueue()</span><br><span class="line">q.put((-ice[sY][sX], [sY, sX]))</span><br><span class="line"><span class="keyword">while</span>(<span class="keyword">not</span> q.empty()):</span><br><span class="line">    y, x = q.get()[<span class="number">1</span>]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (visited[y][x]):</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">if</span> (dY == y <span class="keyword">and</span> dX == x):</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">        </span><br><span class="line">    visited[y][x] = <span class="literal">True</span></span><br><span class="line">    <span class="comment">#print(&#x27;update [&#x27;,y,&#x27;][&#x27;,x,&#x27;]&#x27;)</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> [ny, nx] <span class="keyword">in</span> [[y-<span class="number">1</span>,x], [y,x-<span class="number">1</span>], [y,x+<span class="number">1</span>], [y+<span class="number">1</span>,x]]:</span><br><span class="line">        <span class="keyword">if</span> (ny &lt; <span class="number">0</span> <span class="keyword">or</span> ny &gt;= n <span class="keyword">or</span> nx &lt; <span class="number">0</span> <span class="keyword">or</span> nx &gt;= m):</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">if</span> (visited[ny][nx]):</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (ice[y][x] &lt; ice[ny][nx]):</span><br><span class="line">            ice[ny][nx] = ice[y][x]</span><br><span class="line">        q.put((-ice[ny][nx], [ny, nx]))</span><br><span class="line">        <span class="comment">#print(&#x27;= append [&#x27;,ny,&#x27;][&#x27;,nx,&#x27;], new Value =&#x27;, ice[ny][nx])</span></span><br><span class="line"></span><br><span class="line">print(ice[dY][dX])</span><br></pre></td></tr></table></figure>
        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2016-12-05T12:19:17.000Z">2016-12-05</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    10 minutes read (About 1457 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2016/12/05/entered-hackerrank-contest-weekofcode-26/">参与HackerRank竞赛WeekOfCode26</a>
            
        </h1>
        <div class="content">
            <p><a href="https://www.hackerrank.com/contests/w26/challenges">Week of Code 26</a> 平生第一次参加OJ竞赛，一周的比赛时间到北京时间今天下午16点截止，每天放出一道题，我也度过了充满激情的充实七天，工作日的晚上以及周六日的全天，基本都面对着笔记本，码代码或是思考如何码。HackerRank界面简洁，易用性很高，以及排名机制什么的成功激起了我做题的欲望。</p>
<p><img src="https://raw.githubusercontent.com/veslam/blog/master/res/20161205_01_HackerRankWeekOfCode26.png" alt="最终名次"><br>最终成绩是 <a href="https://www.hackerrank.com/results/w26/veslam"><strong>521</strong> out of 6960</a><br>虽然看起来还行，名列前10%，但考虑到分母里有很多新手或是抱着参与着玩玩的心态的人，其实成绩差强人意，距离榜首的各位满分更是差距一百多分。<br>然而比赛的意义并不只是排名，就像高三刷题一样，每个题涉及一或多个关键的知识点。下面我会具体总结一下知识方面，确实学到蛮多。最后记录下首次参赛的体会心得。<br>我的代码也会上传到GitHub，<a href="https://github.com/veslam/HackerRankPython/tree/master/Contests/WeekOfCode26">链接在这里</a>。由于还有多道问题没有高效的解决，甚至没有解法，所以我会在找到尽量标准的答案后更新。</p>
<hr>
<h5 id="题目解析"><a href="#题目解析" class="headerlink" title="题目解析"></a>题目解析</h5><ol>
<li><a href="https://www.hackerrank.com/contests/w26/challenges/game-with-cells">Army Game</a><br>很简单的送分题。先考虑X方向覆盖，需要数目为(列数/2)上取整，Y方向同理。两者独立，答案为两者乘积。</li>
<li><a href="https://www.hackerrank.com/contests/w26/challenges/best-divisor">Best Divisor</a><br>题意为，找_n_的约数中，各位数值相加最大的条件下，本身值最小的数。<br>从小到大遍历所有约数，计算各位和并更新记录就行。有优化的可能？已知各位和，枚举数值？</li>
<li><a href="https://www.hackerrank.com/contests/w26/challenges/twins">Twins</a> （从这题开始就有难度了，此后我就没得到过满分……）<br>两个数被称为_Twins_，当满足2个条件：1) 均为质数 2) 值差为2。求[<em>n</em>, <em>m</em>]区间的_Twins_组数。<br>大体思路较明确，第一步肯定要判断[<em>n</em>, <em>m</em>]区间每个数是否为质数，第二步遍历区间。<br>感觉不可能直接从_n_判断起，所以我还是采用从_1_筛查到_m_的方法，创建bool数组_isPrime[m+1]_，如果检查到元素_i_，_isPrime[i]==True_，则_i_是质数，同时_isPrime[所有i的倍数]=False_。<br>问题在于，所有i的倍数都要写一遍吗？答案是不用的。<br>i x (1, 2, … k)其实分为两部分，i x (1, 2, … i-1) 和 i x (i, i+1, … k)，第一部分一定已经在之前的筛查中被标记过，所以只需对于第二部分标记就行啦。<br>这就是<a href="https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes">Sieve of Eratosthenes</a>算法。<br><img src="https://raw.githubusercontent.com/veslam/blog/master/res/20161205_02_Sieve_of_Eratosthenes_animation.gif" alt="图示"><br>收获：标准答案里用i*i&lt;n而不是i&lt;sqrt(n)来限制i小于n的平方根。</li>
<li><a href="https://www.hackerrank.com/contests/w26/challenges/street-parade-1">Music on the Street</a><br>换个方法描述题意就是，数轴被_n_个点分割为_n+1_个区间，拿一长度为m的线段贴合数轴，求线段起始位置，使得线段覆盖的所有区间（若部分覆盖则只算覆盖部分）的长度，都介于[<em>Hmin, Hmax</em>]<br>情景想象出来了，也就得出了等价的判断方法。如图，绿色区间能放下线段即可。<br><img src="https://raw.githubusercontent.com/veslam/blog/master/res/20161205_03_MusicStreet.png"><br>宽度小于Hmin的区间，情况简单，直接涂红。<br>宽度大于Hmax的区间，绿色部分要从左右分别侵入Hmax长度，表示线段可以覆盖到这两部分。<br>同理，绿色部分还要侵入最左侧点向左Hmax和最右侧点向右Hmax。</li>
<li><a href="https://www.hackerrank.com/contests/w26/challenges/pairs-again">Satisfactory Pairs</a><br>给定n，求<a href="https://en.wikipedia.org/wiki/Diophantine_equation">Diophantine equation</a> ax+by=n 有正数解的(a,b)组合数目。学到新定理：</li>
</ol>
<ol>
<li>二元一次丢番图方程有解 &lt;=&gt; n % gcd(a,b) == 0</li>
<li>若有解，记 d = gcd(a,b)，解的间距为(b/d, a/d)。<br>然而判定1)不能保证解为正数，目前思路是在(x=0,y)附近（b/d, a/d）区域找是否有正数解。然而超时，感觉肯定有更好的方法。</li>
</ol>
<ol start="6">
<li><a href="https://www.hackerrank.com/contests/w26/challenges/hard-homework">Hard Homework</a><br>给定n，x+y+z=n的前提下，sin(x)+sin(y)+sin(z)最大值？<br>据说是动态规划。发现讲动态规划很好的帖子：<a href="http://zhihu.com/question/23995189/answer/35324479">什么是动态规划？动态规划的意义是什么？ - 回答作者: 徐凯强 Andy</a><br>然而可能是我没有找到正确的状态定义，动态规划的复杂度并未降低，待解决。</li>
<li><a href="https://www.hackerrank.com/contests/w26/challenges/taste-of-win">Tastes Like Winning</a><br>求满足下面条件的<a href="https://en.wikipedia.org/wiki/Nim">Nim Game</a>先手获胜棋局总数：1) 各堆石子数各不相同，2) 堆最大石子数2^m。<br><a href="https://www.zhihu.com/question/29910524/answer/46075905">一篇很清晰的介绍</a> <a href="https://www.mathcamp.org/gettoknowmathcamp/academics/archives/Alfonso-CGT-lectures.pdf">lecture</a> 百度百科中摘录定理：</li>
</ol>
<ol>
<li>P-position：面对者输 | N-position：面对者赢<br>(1).无法进行任何移动的局面（也就是terminal position）是P-position；<br>(2).可以移动到任意P-position的局面是N-position；<br>(3).所有移动都导致N-position的局面是P-position。</li>
<li>(Bouton’s Theorem) 一个NimGame的局面(a1,a2,…,an)是P-position &lt;=&gt; a1^a2^…^an = 0<br>不会做…… 目前找到的最相近的参考：<a href="http://www.hankcs.com/program/algorithm/poj-2975-nim.html">POJ 2975 Nim 题解</a></li>
</ol>
<hr>
<p>最后是一点感想</p>
<ul>
<li>理解问题并有一个解题思路只是最基本要求，高一些的要求是实现最佳算法，之后还要针对数据范围进行优化。</li>
<li>从分数来看，前面的几道题真不用纠结，加起来还没有后面多。</li>
<li>看自己名次的变化过程也是挺有趣的。HackerRange在题目放出一天后才用完整的TestCases测试，此前只要你把已放出的TestCases全部通过，就会暂时得到满分。这就会造就一个分数虚高的时间段，看起来很爽，我曾经到过129/6644？然而最后还是会被打回原形。<br>Contest最终截止时间到后，还有一个最终名次的计算调整过程，我前进了大概160+，估计是一些人的虚高被挤掉了。。。</li>
</ul>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2016-11-19T01:24:27.000Z">2016-11-19</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    5 minutes read (About 694 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2016/11/19/a-bite-of-computational-geometry/">计算几何入门</a>
            
        </h1>
        <div class="content">
            <p>公司每周举办技术沙龙，我惆怅了许久演讲主题，最终选定__计算几何__。研究生时期旁听了邓老师开设的这门课程，体验到思考的乐趣。<br>惊喜的发现，学堂在线有邓老师的计算几何课程，有讲义和视频。已经与去教室听讲几乎无异啦。于是演讲前两天刷了刷，温习了__<em>Convex Hull(凸包)</em><strong>的生成算法和</strong><em>Voronoi Diagram</em>__的基本知识，现学现卖😁</p>
<hr>
<p>把链接和参考资料记录在这里</p>
<p><a href="http://www.xuetangx.com/courses/course-v1:TsinghuaX+70240183x+2016_2/info">邓老师《计算几何》课程 - 学堂在线</a><br>邓老师的电子讲义<a href="http://pan.baidu.com/s/1eQrYn9w">电子阅读版（全幅）</a> <a href="http://pan.baidu.com/s/1dDAXjFz">打印版（八拼）</a><br><a href="http://dsa.cs.tsinghua.edu.cn/~deng/cg/demo/index.htm">Demo演示（需要使用支持Java Applet的旧版浏览器）</a></p>
<p><a href="http://leebyron.com/mesh/">Mesh – A Processing Library</a></p>
<hr>
<p>⬆️最后一个链接是一个小巧的Processing库，提供生成从平面点集生成凸包／Voronoi图的功能。<br>Processing确实是快速做演示的好工具，把我用Mesh库做的两个小Demo放上来。</p>
<p>接受鼠标点击，生成当前点集的凸包。<br><img src="https://raw.githubusercontent.com/veslam/blog/master/res/20161119_01_ConvexHull.png" alt="showConvexHull"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> megamu.mesh.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> arraySize = <span class="number">64</span>, numOfPoints = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">float</span>[][] points = <span class="keyword">new</span> <span class="keyword">float</span>[arraySize][<span class="number">2</span>];</span><br><span class="line">Hull myHull;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> pointRadius = <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  size(<span class="number">640</span>, <span class="number">360</span>);</span><br><span class="line">  </span><br><span class="line">  addPoint(<span class="number">120</span>, <span class="number">230</span>);</span><br><span class="line">  addPoint(<span class="number">150</span>, <span class="number">105</span>);</span><br><span class="line">  addPoint(<span class="number">320</span>, <span class="number">113</span>);</span><br><span class="line">  addPoint(<span class="number">250</span>, <span class="number">250</span>);</span><br><span class="line">  addPoint(<span class="number">240</span>, <span class="number">150</span>);</span><br><span class="line">  addPoint(<span class="number">200</span>, <span class="number">190</span>);</span><br><span class="line">  addPoint(<span class="number">236</span>, <span class="number">75</span>);</span><br><span class="line">  addPoint(<span class="number">310</span>, <span class="number">70</span>);</span><br><span class="line">  addPoint(<span class="number">373</span>, <span class="number">134</span>);</span><br><span class="line">  addPoint(<span class="number">193</span>, <span class="number">126</span>);</span><br><span class="line">  addPoint(<span class="number">269</span>, <span class="number">96</span>);</span><br><span class="line">  addPoint(<span class="number">301</span>, <span class="number">171</span>);</span><br><span class="line">  addPoint(<span class="number">258</span>, <span class="number">193</span>);</span><br><span class="line">  addPoint(<span class="number">285</span>, <span class="number">135</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//rebuild();</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">draw</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   <span class="comment">// show all points</span></span><br><span class="line">   fill(<span class="number">0</span>,<span class="number">255</span>,<span class="number">0</span>);</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numOfPoints; i ++) &#123;</span><br><span class="line">     ellipse(points[i][<span class="number">0</span>], points[i][<span class="number">1</span>], pointRadius + <span class="number">2</span>, pointRadius + <span class="number">2</span>);</span><br><span class="line">   &#125;</span><br><span class="line">  </span><br><span class="line">   <span class="keyword">if</span> (null != myHull) &#123;</span><br><span class="line">    </span><br><span class="line">       <span class="comment">// fill polygon</span></span><br><span class="line">       MPolygon myRegion = myHull.getRegion();</span><br><span class="line">       fill(<span class="number">255</span>,<span class="number">0</span>,<span class="number">0</span>, <span class="number">20</span>);</span><br><span class="line">       myRegion.draw(<span class="keyword">this</span>);</span><br><span class="line">             </span><br><span class="line">       <span class="comment">// reshow extreme points</span></span><br><span class="line">       <span class="keyword">int</span>[] extrema = myHull.getExtrema();</span><br><span class="line">       fill(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>);     </span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; extrema.length; i ++) &#123;      </span><br><span class="line">          ellipse(points[extrema[i]][<span class="number">0</span>], points[extrema[i]][<span class="number">1</span>], pointRadius, pointRadius);</span><br><span class="line">       &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mouseClicked</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">//println(&quot;mousePosition (&quot;, mouseX, &quot;, &quot;, mouseY, &quot;)&quot;);</span></span><br><span class="line">  </span><br><span class="line">  addPoint(mouseX, mouseY);</span><br><span class="line">  rebuild();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addPoint</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">  points[numOfPoints][<span class="number">0</span>] = x;</span><br><span class="line">  points[numOfPoints][<span class="number">1</span>] = y;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// trick</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="number">0</span> == numOfPoints) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arraySize; i ++) &#123;</span><br><span class="line">      points[i][<span class="number">0</span>] = x;</span><br><span class="line">      points[i][<span class="number">1</span>] = y;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  numOfPoints ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">keyPressed</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  rebuild();</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rebuild</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  myHull = <span class="keyword">new</span> Hull( points );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接受鼠标点击，生成当前点集的Voronoi Diagram。<br><img src="https://raw.githubusercontent.com/veslam/blog/master/res/20161119_02_VoronoiDiagram.png" alt="showVoronoiDiagram"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> megamu.mesh.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span>[][] points;</span><br><span class="line">Voronoi myVoronoi;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> pointRadius = <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  size(<span class="number">640</span>, <span class="number">360</span>);</span><br><span class="line">  </span><br><span class="line">  addPoint(<span class="number">120</span>, <span class="number">230</span>);</span><br><span class="line">  addPoint(<span class="number">150</span>, <span class="number">105</span>);</span><br><span class="line">  addPoint(<span class="number">320</span>, <span class="number">113</span>);</span><br><span class="line">  addPoint(<span class="number">250</span>, <span class="number">250</span>);</span><br><span class="line">  addPoint(<span class="number">240</span>, <span class="number">150</span>);</span><br><span class="line">  addPoint(<span class="number">200</span>, <span class="number">190</span>);</span><br><span class="line">  addPoint(<span class="number">236</span>, <span class="number">75</span>);</span><br><span class="line">  addPoint(<span class="number">310</span>, <span class="number">70</span>);</span><br><span class="line">  addPoint(<span class="number">373</span>, <span class="number">134</span>);</span><br><span class="line">  addPoint(<span class="number">193</span>, <span class="number">126</span>);</span><br><span class="line">  addPoint(<span class="number">269</span>, <span class="number">96</span>);</span><br><span class="line">  addPoint(<span class="number">301</span>, <span class="number">171</span>);</span><br><span class="line">  addPoint(<span class="number">258</span>, <span class="number">193</span>);</span><br><span class="line">  addPoint(<span class="number">285</span>, <span class="number">135</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//rebuild();</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">draw</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   <span class="comment">// show all points</span></span><br><span class="line">   fill(<span class="number">0</span>,<span class="number">255</span>,<span class="number">0</span>);</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; points.length; i ++) &#123;</span><br><span class="line">     ellipse(points[i][<span class="number">0</span>], points[i][<span class="number">1</span>], pointRadius + <span class="number">2</span>, pointRadius + <span class="number">2</span>);</span><br><span class="line">   &#125;</span><br><span class="line">  </span><br><span class="line">   <span class="keyword">if</span> (null != myVoronoi) &#123;</span><br><span class="line">    </span><br><span class="line">      <span class="comment">// fill polygon</span></span><br><span class="line">      MPolygon[] myRegions = myVoronoi.getRegions();</span><br><span class="line">       </span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;myRegions.length; i++)</span><br><span class="line">      &#123;</span><br><span class="line">        randomColorFill();</span><br><span class="line">        myRegions[i].draw(<span class="keyword">this</span>); <span class="comment">// draw this shape</span></span><br><span class="line">      &#125;</span><br><span class="line">       </span><br><span class="line">  </span><br><span class="line">      <span class="keyword">float</span>[][] myEdges = myVoronoi.getEdges();</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;myEdges.length; i++)</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="keyword">float</span> startX = myEdges[i][<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">float</span> startY = myEdges[i][<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">float</span> endX = myEdges[i][<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">float</span> endY = myEdges[i][<span class="number">3</span>];</span><br><span class="line">        line( startX, startY, endX, endY );</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mouseClicked</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">//println(&quot;mousePosition (&quot;, mouseX, &quot;, &quot;, mouseY, &quot;)&quot;);</span></span><br><span class="line">  </span><br><span class="line">  addPoint(mouseX, mouseY);</span><br><span class="line">  rebuild();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addPoint</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> oldLength;</span><br><span class="line">  <span class="keyword">if</span> (null == points) &#123;</span><br><span class="line">    oldLength = <span class="number">0</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    oldLength = points.length;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">float</span>[][] newPoints = <span class="keyword">new</span> <span class="keyword">float</span>[oldLength + <span class="number">1</span>][<span class="number">2</span>];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; oldLength; i ++) &#123;</span><br><span class="line">    newPoints[i][<span class="number">0</span>] = points[i][<span class="number">0</span>];</span><br><span class="line">    newPoints[i][<span class="number">1</span>] = points[i][<span class="number">1</span>];</span><br><span class="line">  &#125;</span><br><span class="line">  newPoints[oldLength][<span class="number">0</span>] = x;</span><br><span class="line">  newPoints[oldLength][<span class="number">1</span>] = y;</span><br><span class="line">  </span><br><span class="line">  points = newPoints;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">keyPressed</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  rebuild();</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rebuild</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  myVoronoi = <span class="keyword">new</span> Voronoi( points );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">randomColorFill</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  fill(random(<span class="number">256</span>), random(<span class="number">256</span>), random(<span class="number">256</span>), <span class="number">20</span>);</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">  <span class="comment">// <span class="doctag">TODO:</span> &#x27;&#x27;&#x27;Generate a random hsl color.&#x27;&#x27;&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2016-11-07T10:46:27.000Z">2016-11-07</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    14 minutes read (About 2098 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2016/11/07/manage-to-hide-implementation-of-base-and-derived-class/">隐藏继承关系中父类子类的实现 manage-to-hide-implementation-of-base-and-derived-class</a>
            
        </h1>
        <div class="content">
            <h3 id="缘起"><a href="#缘起" class="headerlink" title="缘起"></a>缘起</h3><p>最近一段时间的主要工作是制作一个<em>iOS Static Library</em>，那么必然要做到的就是实现的隐藏，只外露一些包含公开方法的头文件，随*.a*文件一同交付，无论动机是代码保密，或是尽量简化对外接口。<br>如何做到呢？</p>
<h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><p>通过搜索找到一种称作<a href="http://blog.csdn.net/just_kong/article/details/10060461">C++桥接设计模式(impl)</a>的方法，看起来比较复杂一些，并未深入研究。<br>现在，想象一下，如果在外露的头文件里用户看到的是类X，而库的实现中拥有私密成员和方法的其实是类Y，两者是什么关系呢？<br>大致无非两种：X私藏一个Y的指针，把所有方法指派给Y去做，即X <em>has-a</em> Y；或者，Y继承自X，并把X承诺的接口都实现了，即Y <em>is-a</em> X。两者孰优孰劣应该比较明显：前者X每新增一个方法，都要在Y增加一个相应的方法，并X实现中手动调用，有些繁琐，不是长久之计，而且从直觉上不满足XY地位平等。其实，后者采用的<em>继承</em>也正是对于这些疑问的完美解决方案，无需在X，Y中两份声明，重载和虚函数也能提供更大的灵活性和可能性。</p>
<h5 id="简单版需求：要隐藏某一个类"><a href="#简单版需求：要隐藏某一个类" class="headerlink" title="简单版需求：要隐藏某一个类#####"></a>简单版需求：要隐藏某一个类#####</h5><p>为了和后文统一，就称这个类名为<strong>Base</strong>。那么要做的是：首先将其隐姓埋名，改称<strong>BaseImpl</strong>（Impl是implementation的简称），再建立一个冒名顶替的<strong>Base</strong>类作为他的爸爸。<br><img src="https://raw.githubusercontent.com/veslam/blog/master/res/20161107_01_HideImpl.png" alt="BaseImpl继承Base"></p>
<p>具体实现方式：<strong>继承</strong> + <strong>Factory Method</strong> + <strong>纯虚方法</strong> / <strong>GetImpl() downcasting</strong> （二选一）<br>参考链接：<a href="http://www.codeproject.com/Articles/42466/Hiding-Implementation-Details-in-C">Hiding-Implementation-Details-in-C</a>最后一段。作者把BaseImpl的定义和实现都放进了Base.cpp，但我做了些改动以使结构清晰，将两个类的定义和实现拆了出来放到各自的.h/.cpp中。</p>
<ol>
<li>采用<strong>纯虚方法</strong>（个人推荐）：<br><img src="https://raw.githubusercontent.com/veslam/blog/master/res/20161107_02_HideImpl.png" alt="继承 + Factory Method + 纯虚方法 (灰色箭头为#import关系)"><blockquote>
<p>The client no longer sees any of the implementation details. The cost is that we are now required to have a factory method and virtual methods.</p>
</blockquote>
</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Define a public interface in foo.h</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">   <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SetPosition</span><span class="params">(<span class="keyword">float</span> x, <span class="keyword">float</span> y)</span> </span>= <span class="number">0</span>; <span class="comment">// 纯虚</span></span><br><span class="line">   <span class="function"><span class="keyword">static</span> Foo* <span class="title">Create</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">   Foo() &#123;&#125;    <span class="comment">// hide</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// foo.cpp</span></span><br><span class="line"><span class="comment">// Define factory method</span></span><br><span class="line"><span class="function">Foo* <span class="title">Foo::Create</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> FooImpl();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Define a private implementation in fooImpl.h</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooImpl</span> :</span> <span class="keyword">public</span> Foo</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">   FooImpl() &#123;&#125;</span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">SetPosition</span><span class="params">(<span class="keyword">float</span> x, <span class="keyword">float</span> y)</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">   <span class="keyword">float</span> m_x, m_y;      <span class="comment">// private data</span></span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">PrivateMethod</span><span class="params">()</span> </span>&#123;&#125;  <span class="comment">// private method</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// fooImpl.cpp</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">FooImpl::SetPosition</span><span class="params">(<span class="keyword">float</span> x, <span class="keyword">float</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m_x = x; m_y = y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>采用 <strong>GetImpl() downcasting 方法</strong>：<br><img src="https://raw.githubusercontent.com/veslam/blog/master/res/20161107_03_HideImpl.png" alt="继承 + Factory Method + GetImpl() downcasting (灰色箭头为#import关系)"><blockquote>
<p>By downcasting in the class methods, we get access to the implementation data without virtual methods.</p>
</blockquote>
</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Define a public interface in foo.h</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">   <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SetPosition</span><span class="params">(<span class="keyword">float</span> x, <span class="keyword">float</span> y)</span></span>;</span><br><span class="line">   <span class="function"><span class="keyword">static</span> Foo* <span class="title">Create</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">   Foo() &#123;&#125;    <span class="comment">// hide</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// foo.cpp</span></span><br><span class="line"><span class="comment">// Define factory method</span></span><br><span class="line"><span class="function">Foo* <span class="title">Foo::Create</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> FooImpl();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// downcasting methods</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> FooImpl * <span class="title">GetImpl</span><span class="params">(Foo* ptr)</span> </span>&#123; <span class="keyword">return</span> (FooImpl *)ptr; &#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">const</span> FooImpl * <span class="title">GetImpl</span><span class="params">(<span class="keyword">const</span> Foo* ptr)</span> </span>&#123; <span class="keyword">return</span> (<span class="keyword">const</span> FooImpl *)ptr; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Define public method</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Foo::SetPosition</span><span class="params">(<span class="keyword">float</span> x, <span class="keyword">float</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    FooImpl * f = GetImpl(<span class="keyword">this</span>);</span><br><span class="line">    f-&gt;SetPosition(x, y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>fooImpl.h fooImpl.cpp</em> 与方法1)中无异。</p>
<p>到此为止，已经实现了对单个类的隐藏。如果原本没有涉及继承的话，至此已满足需求。<br>这样实现的好处是，原来你在<strong>foo</strong>中实现的各种私有内容，比如各种<em>private, friend class, enum, typedef function</em>等，都原封不动的转移到<strong>fooImpl</strong>的实现就行，就像前面说的，<strong>fooImpl</strong>实际上就是原来的<strong>foo</strong>。</p>
<hr>
<p>然而我的最终目标是<strong>隐藏一对本来已经存在继承关系的父子类</strong>，在依照上述方法2)拓展时遭遇无法解决的问题。<br>结构应该拓展为下图的关系，这样既满足外露的<strong>Base</strong>和<strong>Derived</strong>类的父子关系，又满足<strong>BaseImpl</strong>和<strong>DerivedImpl</strong>类的父子关系。<br><img src="https://raw.githubusercontent.com/veslam/blog/master/res/20161107_04_HideImpl.png" alt="继承关系"><br>看到<strong>DerivedImpl</strong>继承了两个同源类，不好的预感已经产生……没错，就是<em>菱形继承 (Diamond of Death)</em> 之前还没有在实践中遇到过类似问题，这次花费的很多时间作为补课。</p>
<blockquote>
<p>Base* d = Derived::Create();<br>d-&gt;SetPosition(5, 10);</p>
</blockquote>
<p>第二句就崩，查看变量里面的内容，各种值都是随机值，看来是指针类型转换导致内存混乱。<br>尝试分析一下：第一句，创建了<strong>DerivedImpl</strong>向上转换为<strong>Derived*</strong>再向上转换为<strong>Base*</strong>，第二句调用方法时，又向下转换为<strong>BaseImpl</strong>*。</p>
<p><a href="http://stackoverflow.com/a/139329/2918210">How can I avoid the Diamond of Death when using multiple inheritance?</a>其中的答案解释了一些疑惑：</p>
<blockquote>
<p>A practical example:</p>
<blockquote>
<p>class A {};<br>class B : public A {};<br>class C : public A {};<br>class D : public B, public C {};</p>
</blockquote>
</blockquote>
<blockquote>
<p>Notice how class D inherits from both B &amp; C. But both B &amp; C inherit from A. That will result in 2 copies of the class A being included in the vtable.</p>
</blockquote>
<p>也就是说，<strong>DerivedImpl</strong>对象里会保存2份<strong>Base</strong>，然而他的父亲和爷爷都不是这个结构，指针强制类型转换后出问题也就有可能了。那么正确的做法是什么呢？</p>
<blockquote>
<p>To solve this, we need virtual inheritance. It’s class A that needs to be virtually inherited. So, this will fix the issue:</p>
<blockquote>
<p>class A {};<br>class B : virtual public A {};<br>class C : virtual public A {};<br>class D : public B, public C {};</p>
</blockquote>
</blockquote>
<p>啊哈，就是让中间两个父类<strong>虚继承</strong>爷爷类！那么扩展方法1)，我的实现结构应该如下：<br><img src="https://raw.githubusercontent.com/veslam/blog/master/res/20161107_05_HideImpl.png" alt="结构图 Base和Derived，BaseImpl和DerivedImpl分别共用.h和.cpp"><br>举个栗子🌰</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Define a public interface in Base.h</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">   <span class="function"><span class="keyword">static</span> Base* <span class="title">Create</span><span class="params">()</span></span>;</span><br><span class="line">   <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">setPosition</span><span class="params">(<span class="keyword">float</span> x, <span class="keyword">float</span> y)</span> </span>= <span class="number">0</span>;</span><br><span class="line">   <span class="function"><span class="keyword">virtual</span> Point <span class="title">getPosition</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">   <span class="function"><span class="keyword">virtual</span> <span class="keyword">float</span> <span class="title">getArea</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Derived</span> :</span> <span class="keyword">virtual</span> <span class="keyword">public</span> Base</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">   <span class="function"><span class="keyword">static</span> Derived* <span class="title">Create</span><span class="params">()</span></span>;</span><br><span class="line">   <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">setSomething</span><span class="params">(<span class="keyword">float</span> s)</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Base.cpp</span></span><br><span class="line"><span class="function">Base* <span class="title">Base::Create</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> BaseImpl();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Derived* <span class="title">Derived::Create</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> DerivedImpl();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// BaseImpl.h</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BaseImpl</span> :</span> <span class="keyword">virtual</span> <span class="keyword">public</span> Base</span><br><span class="line">&#123;</span><br><span class="line">   <span class="keyword">friend</span> <span class="class"><span class="keyword">class</span> <span class="title">xxx</span>;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">   BaseImpl() &#123;&#125;</span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">setPosition</span><span class="params">(<span class="keyword">float</span> x, <span class="keyword">float</span> y)</span></span>;</span><br><span class="line">   <span class="function">Point <span class="title">getPosition</span><span class="params">()</span></span>;</span><br><span class="line">   <span class="function"><span class="keyword">virtual</span> <span class="keyword">float</span> <span class="title">getArea</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">   <span class="keyword">float</span> m_x, m_y, area2D;      <span class="comment">// private data</span></span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">privateMethod</span><span class="params">()</span></span>;        <span class="comment">// private method</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DerivedImpl</span> :</span> <span class="keyword">public</span> Derived, <span class="keyword">public</span> BaseImpl</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">setSomething</span><span class="params">(<span class="keyword">float</span> s)</span></span>;</span><br><span class="line">   <span class="function"><span class="keyword">virtual</span> <span class="keyword">float</span> <span class="title">getArea</span><span class="params">()</span></span>;     <span class="comment">// overwrite</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">   <span class="keyword">float</span> area3D;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// BaseImpl.cpp</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BaseImpl::setPosition</span><span class="params">(<span class="keyword">float</span> x, <span class="keyword">float</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m_x = x; m_y = y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Point <span class="title">BaseImpl::getPosition</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Point(m_x, m_y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">BaseImpl::getArea</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> area2D;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BaseImpl::privateMethod</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123; <span class="comment">// do something. &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DerivedImpl::setSomething</span><span class="params">(<span class="keyword">float</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">// blablabla</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">DerivedImpl::getArea</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> area3D;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p>好啦！现在我们已经实现了对外的实现隐藏，然而最后还要解决一个问题。<br>用户Create的是<strong>Base</strong>和<strong>Derived</strong>，库内部我们自己写的函数需要访问的是<strong>BaseImpl</strong>和<strong>DerivedImpl</strong>，因此需要从B/D到BImpl/Dimpl的转换，如何做呢？答案是__<em>dynamic_cast</em>__。<br>在问题<a href="http://stackoverflow.com/a/3749251/2918210">C++ cannot convert from base A to derived type B via virtual base A</a>的解答中有述：</p>
<blockquote>
<p>This is what <strong>static_cast</strong> do: a static cast is dubbed static because the computation of what is necessary for the cast is done at compile-time, be it pointer arithmetic or conversions (*).</p>
</blockquote>
<p>However, when <strong>virtual</strong> inheritance kicks in things tend to become a bit more difficult. The main issue is that with <strong>virtual</strong> inheritance all subclasses share a same instance of the subobject. In order to do that, <strong>B</strong> will have a pointer to a <strong>A</strong>, instead of a <strong>A</strong> proper, and the A base class object will be instantiated outside of <strong>B</strong>.<br>Therefore, it’s impossible at compilation time to be able to deduce the necessary pointer arithmetic: it depends on the runtime type of the object.</p>
<blockquote>
</blockquote>
<p>In summary:</p>
<ul>
<li>compile-time downcast: <strong>static_cast</strong></li>
<li>run-time downcast: <strong>dynamic_cast</strong></li>
</ul>
<p>即，<strong>static_cast</strong>只能用于在编译时已可确定对象类型的情况，而涉及<strong>虚继承</strong>的情况，需要动态转化类型，所以要用<strong>dynamic_cast</strong>。</p>
<p>终于大功告成！😃</p>
<hr>
<h3 id="知识补充"><a href="#知识补充" class="headerlink" title="知识补充"></a>知识补充</h3><p><strong><em>纯虚函数</em></strong> 声明后有“＝0”的函数，如<em>virtual void function() = 0;</em> 纯虚函数不可实现。<br><strong><em>纯虚类</em></strong> 定义中含有<em>纯虚函数</em>的类。纯虚类不能通过构造函数new出一个实例，但可以有指针对象。<br>__<em>virtual static function()</em>__不可存在 因为<em>static</em>的目的是生成只与类有关的全局固态方法，而<em>virtual</em>的目的是根据具体对象的类别，动态灵活指向函数，两者互斥。</p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2016-09-15T15:14:14.000Z">2016-09-15</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    3 minutes read (About 416 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2016/09/15/transplant-project-to-windows-platform/">transplant-project-to-windows-platform</a>
            
        </h1>
        <div class="content">
            <p>#####一些问题解决的记录</p>
<ol>
<li><p>VS2013配置pthread<br><a href="http://bbezxcy.iteye.com/blog/2216504">VS2013配置pthread</a><br>最后记得要</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;pthread.h&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>全局变量引发的链接时的LNK2005xxx already defined in yyyy.obj<br><a href="http://blog.csdn.net/zwlhoho/article/details/50571275">全局变量引发的链接时的LNK2005xxx already defined in yyyy.obj</a><br>.h只声明全局变量，.cpp中定义。</p>
</li>
<li><p>用于VS的__gettimeofday()__<br><a href="http://stackoverflow.com/a/5197874/2918210">how to use gettimeofday() or something equivalent with Visual Studio C++ 2008?</a></p>
</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;stdafx.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;windows.h&gt; </span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> __int64 DELTA_EPOCH_IN_MICROSECS= <span class="number">11644473600000000</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* IN UNIX the use of the timezone struct is obsolete;</span></span><br><span class="line"><span class="comment"> I don&#x27;t know why you use it. See http://linux.about.com/od/commands/l/blcmdl2_gettime.htm</span></span><br><span class="line"><span class="comment"> But if you want to use this structure to know about GMT(UTC) diffrence from your local time</span></span><br><span class="line"><span class="comment"> it will be next: tz_minuteswest is the real diffrence in minutes from GMT(UTC) and a tz_dsttime is a flag</span></span><br><span class="line"><span class="comment"> indicates whether daylight is now in use</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">timezone2</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  __int32  tz_minuteswest; <span class="comment">/* minutes W of Greenwich */</span></span><br><span class="line">  <span class="keyword">bool</span>  tz_dsttime;     <span class="comment">/* type of dst correction */</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">timeval2</span> &#123;</span></span><br><span class="line">__int32    tv_sec;         <span class="comment">/* seconds */</span></span><br><span class="line">__int32    tv_usec;        <span class="comment">/* microseconds */</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gettimeofday</span><span class="params">(struct timeval2 *tv<span class="comment">/*in*/</span>, struct timezone2 *tz<span class="comment">/*in*/</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  FILETIME ft;</span><br><span class="line">  __int64 tmpres = <span class="number">0</span>;</span><br><span class="line">  TIME_ZONE_INFORMATION tz_winapi;</span><br><span class="line">  <span class="keyword">int</span> rez=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">   ZeroMemory(&amp;ft,<span class="keyword">sizeof</span>(ft));</span><br><span class="line">   ZeroMemory(&amp;tz_winapi,<span class="keyword">sizeof</span>(tz_winapi));</span><br><span class="line"></span><br><span class="line">    GetSystemTimeAsFileTime(&amp;ft);</span><br><span class="line"></span><br><span class="line">    tmpres = ft.dwHighDateTime;</span><br><span class="line">    tmpres &lt;&lt;= <span class="number">32</span>;</span><br><span class="line">    tmpres |= ft.dwLowDateTime;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*converting file time to unix epoch*/</span></span><br><span class="line">    tmpres /= <span class="number">10</span>;  <span class="comment">/*convert into microseconds*/</span></span><br><span class="line">    tmpres -= DELTA_EPOCH_IN_MICROSECS; </span><br><span class="line">    tv-&gt;tv_sec = (__int32)(tmpres*<span class="number">0.000001</span>);</span><br><span class="line">    tv-&gt;tv_usec =(tmpres%<span class="number">1000000</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//_tzset(),don&#x27;t work properly, so we use GetTimeZoneInformation</span></span><br><span class="line">    rez=GetTimeZoneInformation(&amp;tz_winapi);</span><br><span class="line">    tz-&gt;tz_dsttime=(rez==<span class="number">2</span>)?<span class="literal">true</span>:<span class="literal">false</span>;</span><br><span class="line">    tz-&gt;tz_minuteswest = tz_winapi.Bias + ((rez==<span class="number">2</span>)?tz_winapi.DaylightBias:<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> _tmain(<span class="keyword">int</span> argc, _TCHAR* argv[])</span><br><span class="line">&#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">timeval2</span> <span class="title">tv</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">timezone2</span> <span class="title">tz</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">tm</span> *<span class="title">tm1</span>;</span> </span><br><span class="line"><span class="keyword">time_t</span> time1;</span><br><span class="line"></span><br><span class="line">ZeroMemory(&amp;tv,<span class="keyword">sizeof</span>(tv));</span><br><span class="line">ZeroMemory(&amp;tz,<span class="keyword">sizeof</span>(tz));</span><br><span class="line"></span><br><span class="line">gettimeofday(&amp;tv, &amp;tz); <span class="comment">// call gettimeofday()</span></span><br><span class="line">time1=tv.tv_sec;</span><br><span class="line">tm1 = localtime(&amp;time1); </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> FILE *f;</span><br><span class="line"> f=fopen(<span class="string">&quot;rez.txt&quot;</span>,<span class="string">&quot;w&quot;</span>);</span><br><span class="line"></span><br><span class="line"> <span class="built_in">fprintf</span>(f,<span class="string">&quot;%04d.%02d.%02d %02d:%02d:%02d\n&quot;</span>,<span class="number">1900</span>+tm1-&gt;tm_year,<span class="number">1</span>+tm1-&gt;tm_mon,tm1-&gt;tm_mday,tm1-&gt;tm_hour,tm1-&gt;tm_min,tm1-&gt;tm_sec);</span><br><span class="line"> <span class="built_in">fprintf</span>(f,<span class="string">&quot;Diffrence between GMT(UTC) and local time=%d %s\n&quot;</span>,tz.tz_minuteswest,<span class="string">&quot;minutes&quot;</span>);</span><br><span class="line"> <span class="built_in">fprintf</span>(f,<span class="string">&quot;Is Daylight now=%s\n&quot;</span>,tz.tz_dsttime?<span class="string">&quot;Yes&quot;</span>:<span class="string">&quot;No&quot;</span>);</span><br><span class="line"></span><br><span class="line"> fclose(f);</span><br><span class="line"> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2016-09-15T13:01:54.000Z">2016-09-15</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    13 minutes read (About 2010 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2016/09/15/build-static-library-including-libcocos-a-with-xcode/">Build Static Library 包含libcocos.a with Xcode</a>
            
        </h1>
        <div class="content">
            <p>趟过N个坑，参考M个网页，千辛万苦Build成功。把遇到的issues记在这里供借鉴。</p>
<h2 id="〇-用Cocos2d-x源码编译libcocos-a"><a href="#〇-用Cocos2d-x源码编译libcocos-a" class="headerlink" title="〇. 用Cocos2d-x源码编译libcocos.a"></a>〇. 用Cocos2d-x源码编译libcocos.a</h2><h3 id="参考网页-Tutorial-build-cocos2d-x-as-a-static-library-in-Mac-Xcode"><a href="#参考网页-Tutorial-build-cocos2d-x-as-a-static-library-in-Mac-Xcode" class="headerlink" title="参考网页[Tutorial] build cocos2d-x as a static library in Mac Xcode"></a>参考网页<a href="http://fstoke.me/blog/?p=4067">[Tutorial] build cocos2d-x as a static library in Mac Xcode</a></h3><p>(这一步并不是必须的，如果你能下载到他人已编译好的.a文件也行。)</p>
<h5 id="1-建立Cocos环境"><a href="#1-建立Cocos环境" class="headerlink" title="1. 建立Cocos环境"></a>1. 建立Cocos环境</h5><p>Cocos源码可从官网得到，以terminal进入源码根目录，运行命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python setup.py</span><br></pre></td></tr></table></figure>

<h5 id="2-建立新项目"><a href="#2-建立新项目" class="headerlink" title="2. 建立新项目"></a>2. 建立新项目</h5><blockquote>
<p>首先，要開一個cocos2d的專案。到你下載並解壓好的cocos2d-x根目錄(例: /Users/YourName/Library/cocos2d-x-3.6)執行以下指令</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cocos new HelloWorld -p com.CompanyName.HelloWorld -l cpp</span><br></pre></td></tr></table></figure>
<blockquote>
<p>接著打開Xcode project檔。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">open HelloWorld&#x2F;proj.ios_mac&#x2F;HelloWorld.xcodeproj</span><br></pre></td></tr></table></figure>

<h5 id="3-修改Build-Settings"><a href="#3-修改Build-Settings" class="headerlink" title="3. 修改Build Settings"></a>3. 修改Build Settings</h5><blockquote>
<p>選擇cocos2d_libs.xcodeproj，再選擇Target: libcocos2d iOS，修改其Build Settings。<br>應該預設值就是下面寫的值了，如果不是，請改為下面的值。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Architectures &#x3D;&gt; Standard architectures</span><br><span class="line">Build Active Architecture Only &#x3D;&gt; No</span><br></pre></td></tr></table></figure>
<blockquote>
<p>另外在Valid Architectures 那欄追加兩個值: i386 和 x86_64。<br>這是為了讓build出來的Library也可以在模擬器上跑。<br>修改後的結果應該有五個值: arm64, armv7, armv7s, i386, x86_64<br>完整結果如圖片所示:<br><img src="https://raw.githubusercontent.com/veslam/blog/master/res/20160915_01_Build.png" alt="https://lh3.googleusercontent.com/-wnOpXEUQAXs/VY4uFgdXWvI/AAAAAAAAJFU/GMvuVionjUI/s1291/cocos2d-x-project-setting.png"></p>
</blockquote>
<h5 id="4-使用Rakefile來建立Static-Library"><a href="#4-使用Rakefile來建立Static-Library" class="headerlink" title="4. 使用Rakefile來建立Static Library"></a>4. 使用Rakefile來建立Static Library</h5><blockquote>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd HelloWorld&#x2F;cocos2d&#x2F;build</span><br><span class="line">vi Rakefile</span><br></pre></td></tr></table></figure>
<blockquote>
<p>內容輸入以下程式碼:</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">PROJECT_PATH &#x3D; &quot;.&#x2F;cocos2d_libs.xcodeproj&quot;</span><br><span class="line">TARGET_NAME&#x3D;&quot;&#39;libcocos2d iOS&#39;&quot;</span><br><span class="line">OUTPUT_DEBUG&#x3D;&quot;tmp&#x2F;iphonesimulator&quot;</span><br><span class="line">OUTPUT_RELEASE&#x3D;&quot;tmp&#x2F;iphoneos&quot;</span><br><span class="line">OUTPUT_LIB&#x3D;&quot;.&#x2F;lib&quot;</span><br><span class="line">directory OUTPUT_LIB</span><br><span class="line"></span><br><span class="line">desc &quot;using lib command to build a static library&quot;</span><br><span class="line">task &quot;lib&quot; do</span><br><span class="line">    sh &quot;xcodebuild -project #&#123;PROJECT_PATH&#125; -configuration Release -sdk iphonesimulator8.3 -target #&#123;TARGET_NAME&#125; -arch i386 -arch x86_64 TARGET_BUILD_DIR&#x3D;#&#123;OUTPUT_DEBUG&#125; BUILT_PRODUCTS_DIR&#x3D;#&#123;OUTPUT_DEBUG&#125; clean build&quot;</span><br><span class="line"></span><br><span class="line">    sh &quot;xcodebuild -project #&#123;PROJECT_PATH&#125; -configuration Release -sdk iphoneos8.3 -target #&#123;TARGET_NAME&#125; -arch armv7 -arch armv7s -arch arm64 TARGET_BUILD_DIR&#x3D;#&#123;OUTPUT_RELEASE&#125; BUILT_PRODUCTS_DIR&#x3D;#&#123;OUTPUT_RELEASE&#125; clean build&quot;</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">desc &quot;using lipo command to link static libraries for each device to one combined library file&quot;</span><br><span class="line">task &quot;lipo&quot; &#x3D;&gt; OUTPUT_LIB do</span><br><span class="line"></span><br><span class="line">    Dir.glob(&quot;#&#123;OUTPUT_RELEASE&#125;&#x2F;*&quot;)&#123;|path|</span><br><span class="line">        p path</span><br><span class="line">        file &#x3D; File.basename(path)</span><br><span class="line"></span><br><span class="line">        sh &quot;lipo &#39;#&#123;OUTPUT_DEBUG&#125;&#x2F;#&#123;file&#125;&#39; &#39;#&#123;OUTPUT_RELEASE&#125;&#x2F;#&#123;file&#125;&#39; -create -output &#39;#&#123;OUTPUT_LIB&#125;&#x2F;#&#123;file&#125;&#39;&quot;</span><br><span class="line">    &#125;</span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<p>注：iphonesimulator&amp;iphoneos中的版本号可能需要更新，否则有错误：</p>
<blockquote>
<p>SDK “iphonesimulator8.3” cannot be located</p>
</blockquote>
<p>解决办法：参考<a href="http://www.it165.net/os/html/201208/3102.html">利用xcodebuild命令确定SDK版本</a>运行命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xcodebuild -showsdks</span><br></pre></td></tr></table></figure>
<p>查知两者版本号，相应修改Rakefile即可。</p>
<blockquote>
<p>開始製作static library<br>輸入以下command。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rake lib</span><br></pre></td></tr></table></figure>
<blockquote>
<p>整個過程大概需要10~20分鐘，要看你的機器的執行速度。如果不到一分鐘就停了，那可能是有出現錯誤。像我是遇到找不到 iphonesimulator8.2 和 iphoneos8.2 這兩個資料夾，要改成你的執行環境正確的值。</p>
</blockquote>
<blockquote>
<p>完成build static library後，你會在tmp資料裡看到兩個libcocos2d iOS.a檔，一個是給實機device跑的，另一個是給模擬器跑的。因此我們還要再做最後一步，將這兩個.a檔打包成為一個merged的.a檔。執行下面的指令。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rake lipo</span><br></pre></td></tr></table></figure>
<blockquote>
<p>這大概只需要幾秒鐘就能跑完，跑完之後你會看到一個lib資料。裡面有一個libcocos2d iOS.a檔，檔案大小約 117.9 MB。這就是最終我們要的static library檔了。</p>
</blockquote>
<p>** BUILD SUCCEEDED ** 开心😄<br><img src="https://raw.githubusercontent.com/veslam/blog/master/res/20160915_02_Build.png" alt="得到的libcocos.a就可以用啦！https://lh3.googleusercontent.com/-nGnHzsYT5YM/VY4uFL-wp7I/AAAAAAAAJFI/xkhOGuct6r0/s575/cocos2d-x-add-static-library.png"></p>
<h2 id="一-在目标Xcode工程中加入libcocos-a"><a href="#一-在目标Xcode工程中加入libcocos-a" class="headerlink" title="一. 在目标Xcode工程中加入libcocos.a"></a>一. 在目标Xcode工程中加入libcocos.a</h2><p>这里的目标工程就是指你用来制作Static Library的工程啦。</p>
<h5 id="1-Header-Search-Paths"><a href="#1-Header-Search-Paths" class="headerlink" title="1. Header Search Paths"></a>1. Header Search Paths</h5><p>头文件方面，依旧使用Cocos源码目录下的.h文件们。<br>添加如下目录，__切记不要recursive__，否则引起混乱。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&quot;...&#x2F;cocos2d-x-3.x&quot;, （cocos根目录，请酌情修改。）</span><br><span class="line">&quot;...&#x2F;cocos2d-x-3.x&#x2F;cocos&quot;,</span><br><span class="line">&quot;...&#x2F;cocos2d-x-3.x&#x2F;cocos&#x2F;base&quot;,</span><br><span class="line">&quot;...&#x2F;cocos2d-x-3.x&#x2F;cocos&#x2F;physics&quot;,</span><br><span class="line">&quot;...&#x2F;cocos2d-x-3.x&#x2F;cocos&#x2F;math&quot;,</span><br><span class="line">&quot;...&#x2F;cocos2d-x-3.x&#x2F;cocos&#x2F;2d&quot;,</span><br><span class="line">&quot;...&#x2F;cocos2d-x-3.x&#x2F;cocos&#x2F;ui&quot;,</span><br><span class="line">&quot;...&#x2F;cocos2d-x-3.x&#x2F;cocos&#x2F;network&quot;,</span><br><span class="line">&quot;...&#x2F;cocos2d-x-3.x&#x2F;cocos&#x2F;audio&#x2F;include&quot;,</span><br><span class="line">&quot;...&#x2F;cocos2d-x-3.x&#x2F;cocos&#x2F;editor-support&quot;,</span><br><span class="line">&quot;...&#x2F;cocos2d-x-3.x&#x2F;extensions&quot;,</span><br><span class="line">&quot;...&#x2F;cocos2d-x-3.x&#x2F;external&quot;,</span><br><span class="line">&quot;...&#x2F;cocos2d-x-3.x&#x2F;external&#x2F;chipmunk&#x2F;include&#x2F;chipmunk&quot;,</span><br></pre></td></tr></table></figure>
<h5 id="2-Library-Search-Paths"><a href="#2-Library-Search-Paths" class="headerlink" title="2. Library Search Paths"></a>2. Library Search Paths</h5><p>增加 libcocos.a 所在路径。</p>
<hr>
<p>至此，幸运的话应该能编译通过了。然而我比较脸黑，还有各种小问题的骚扰，记录如下。</p>
<h2 id="二-其它部分Errors的解决"><a href="#二-其它部分Errors的解决" class="headerlink" title="二. 其它部分Errors的解决"></a>二. 其它部分Errors的解决</h2><h5 id="找不到gl-h"><a href="#找不到gl-h" class="headerlink" title="- 找不到gl.h"></a>- 找不到gl.h</h5><p>仔细看报错位置，发现是编译mac平台相关头文件时出现。因此猜测是工程文件设置不到位，导致Xcode尝试为mac平台编译。<br>解决：Build Settings &gt; Apple LLVM 7.1 - Preprocessing &gt; Preprocessor Macros &gt; + following</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">USE_FILE32API</span><br><span class="line">CC_TARGET_OS_IPHONE</span><br><span class="line">COCOS2D_DEBUG&#x3D;1 (Debug加)</span><br><span class="line">CC_ENABLE_CHIPMUNK_INTEGRATION&#x3D;1</span><br></pre></td></tr></table></figure>

<h5 id="MacTypes-h-Reference-to-‘Point’-is-ambiguous"><a href="#MacTypes-h-Reference-to-‘Point’-is-ambiguous" class="headerlink" title="- MacTypes.h: Reference to ‘Point’ is ambiguous"></a>- <em>MacTypes.h: Reference to ‘Point’ is ambiguous</em></h5><p>这个问题事实很简单：Cocos的Point类名与iOS冲突。然而解决费了我千辛万苦。最终找到标准答案<a href="http://discuss.cocos2d-x.org/t/error-reference-to-point-is-ambiguous-in-mactypes-h/11853/17?u=veslam">ERROR: Reference to “Point” is ambiguous in MacTypes.h</a></p>
<blockquote>
<p>In short:</p>
</blockquote>
<ol>
<li>Don’t let USING_NS_CC; be declared in any of your header files.</li>
<li>Don’t include Foundation or UIKit in header. Move it into cpp.</li>
<li>If you need to use a type from it, hide the implementation into a separate class.</li>
</ol>
<p>简言之：不要在头文件中使用 USING_NS_CC（.cpp等可以） ，也不要引 <em>Foundation</em> 或 <em>UIKit_，那我要在头文件中提到Cocos的变量怎么办呢？乖乖加上命名空间_cocos2d::</em></p>
<blockquote>
<h4 id="Why-is-“Point”-ambiguous-in-MacTypes-h"><a href="#Why-is-“Point”-ambiguous-in-MacTypes-h" class="headerlink" title="Why is “Point” ambiguous in MacTypes.h?"></a>Why is “Point” ambiguous in MacTypes.h?</h4><p>There are two types of <strong>Point</strong> types, one defined in Cocos2d and other by iOS. The problem rises because the compiler detects references to <strong>Point</strong> type without specifying which one.<br>The C++ way is to use a “namespace”, like <strong>cocos2d::Point</strong>.<br>However, since it’s cumbersome to write the prefix each time, there is a convention to declare “I’m going to omit the <strong>cocos2d::</strong> prefix in this scope. Just regard every <strong>Point</strong> here as <strong>cocos2d::Point</strong>.”. That’s the <strong>using namespace cocos2d</strong> line, or even more convenient, <strong>USING_NS_CC</strong>. This is causing the problem.<br>If there is any file that declared using namespace cocos2d in a header file, then it gets mixed up during the long include chain. Hence, “you shouldn’t use <strong>USING_NS_CC</strong> in header files”.</p>
</blockquote>
<h5 id="ld-file-is-universal-3-slices-but-does-not-contain-a-n-armv7s-slice-file-location-for-architecture-armv7s-clang-error-linker-command-failed-with-exit-code-1-use-v-to-see-invocation"><a href="#ld-file-is-universal-3-slices-but-does-not-contain-a-n-armv7s-slice-file-location-for-architecture-armv7s-clang-error-linker-command-failed-with-exit-code-1-use-v-to-see-invocation" class="headerlink" title="- ld: file is universal (3 slices) but does not contain a(n) armv7s slice: /file/location for architecture armv7s clang: error: linker command failed with exit code 1 (use -v to see invocation)"></a>- <em>ld: file is universal (3 slices) but does not contain a(n) armv7s slice: /file/location for architecture armv7s clang: error: linker command failed with exit code 1 (use -v to see invocation)</em></h5><p><a href="http://stackoverflow.com/questions/12402092/file-is-universal-three-slices-but-it-does-not-contain-an-armv7-s-slice-err/12402966#12402966">File is universal (three slices), but it does not contain a(n) ARMv7-s slice error for static libraries on iOS, anyway to bypass?</a></p>
<blockquote>
<p>Alternatively, you can set the flag for your <strong>debug</strong> configuration’s <strong>“Build Active Architecture Only”</strong> to <strong>Yes</strong>. Leave the <strong>release</strong> configuration’s <strong>“Build Active Architecture Only”</strong> to <strong>No</strong>, just so you’ll get a reminder before releasing that you ought to upgrade any third-party libraries you’re using.</p>
</blockquote>
<h5 id="编译出来的Static-Library放到工程中使用，报错：Undefined-symbols-for-architecture-arm-xxx"><a href="#编译出来的Static-Library放到工程中使用，报错：Undefined-symbols-for-architecture-arm-xxx" class="headerlink" title="- 编译出来的Static Library放到工程中使用，报错：Undefined symbols for architecture arm xxx"></a>- 编译出来的Static Library放到工程中使用，报错：Undefined symbols for architecture arm xxx</h5><p>参考两篇文章<a href="http://www.cnblogs.com/piaojin/p/5591656.html">ios build时，Undefined symbols for architecture xxx问题的总结</a>｜<a href="http://blog.csdn.net/zuoyou1314/article/details/46638073">Undefined symbols for architecture arm64解决方案</a><br>简而言之，苹果设备从老到新依次使用这四个指令集（_armv6、armv7、armv7s、arm64_），若想支持更多型号的苹果设备，就要支持更多指令集，编译出来的包体积也就越大。<br>编译出来的.a的工程叫builder，使用.a的工程叫user，那么在支持的指令集方面，builder需要包含user，提供的才能用。那么久分别设置builder和user工程__Build Settings &gt; Architectures__相关，满足上述条件就行啦。</p>
<p>具体来说，影响Architectures的设置有二：</p>
<ol>
<li>_Architectures_与_Valid Architectures_的交集。前者基本必选_Standard Architectures_不用在意，后者自己决定选好，_Debug_和_Release_没必要不一样。</li>
<li>_Build Active Architectures Only_，大意是指只选择当前连接设备的指令集，显然不要这样。设置方法前面说过，_Release_为_No_，_Debug_可为_Yes_。</li>
</ol>
<h5 id="“-SecCertificateCreateWithData”-referenced-from"><a href="#“-SecCertificateCreateWithData”-referenced-from" class="headerlink" title="- “_SecCertificateCreateWithData”, referenced from:"></a>- “_SecCertificateCreateWithData”, referenced from:</h5><p>增加Security.framework</p>
<h5 id="“-GCControllerDidDisconnectNotification”-referenced-from"><a href="#“-GCControllerDidDisconnectNotification”-referenced-from" class="headerlink" title="- “_GCControllerDidDisconnectNotification”, referenced from:"></a>- “_GCControllerDidDisconnectNotification”, referenced from:</h5><p>增加MediaPlayer.framework, GameController.framework</p>
<h5 id="“-iconv-open”-referenced-from-的解决方案"><a href="#“-iconv-open”-referenced-from-的解决方案" class="headerlink" title="- “_iconv_open”, referenced from:的解决方案"></a>- “_iconv_open”, referenced from:的解决方案</h5><p>添加动态库 libiconv.dylib（然而我没找到，加libiconv.tbd也可解决。）</p>
<h5 id="“-CTFramesetterCreateWithAttributedString”-referenced-from"><a href="#“-CTFramesetterCreateWithAttributedString”-referenced-from" class="headerlink" title="- “_CTFramesetterCreateWithAttributedString”, referenced from:"></a>- “_CTFramesetterCreateWithAttributedString”, referenced from:</h5><p>增加CoreText.framework</p>
<hr>
<p>就酱🤔</p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2016-09-01T03:35:40.000Z">2016-09-01</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    5 minutes read (About 805 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2016/09/01/c-subclass-constructor/">转载 在C++中子类继承和调用父类的构造函数方法</a>
            
        </h1>
        <div class="content">
            <p>不好意思，基本功不扎实。转载留存一份 :| <a href="http://blog.163.com/lichuan0502@126/blog/static/9933534820120233332497/">原文链接</a></p>
<p>构造方法用来初始化类的对象，与父类的其它成员不同，它不能被子类继承（子类可以继承父类所有的成员变量和成员方法，但不继承父类的构造方法）。因此，在创建子类对象时，为了初始化从父类继承来的数据成员，系统需要调用其父类的构造方法。<br>如果没有显式的构造函数，编译器会给一个默认的构造函数，并且该默认的构造函数仅仅在没有显式地声明构造函数情况下创建。</p>
<p>构造原则如下：</p>
<ol>
<li>如果子类没有定义构造方法，则调用父类的无参数的构造方法。</li>
<li>如果子类定义了构造方法，不论是无参数还是带参数，在创建子类的对象的时候,首先执行父类无参数的构造方法，然后执行自己的构造方法。</li>
<li>在创建子类对象时候，如果子类的构造函数没有显示调用父类的构造函数，则会调用父类的默认无参构造函数。</li>
<li>在创建子类对象时候，如果子类的构造函数没有显示调用父类的构造函数且父类自己提供了无参构造函数，则会调用父类自己的无参构造函数。</li>
<li>在创建子类对象时候，如果子类的构造函数没有显式调用父类的构造函数且父类只定义了自己的有参构造函数，则会出错（如果父类只有有参数的构造方法，则子类必须显示调用此带参构造方法）。</li>
<li>如果子类调用父类带参数的构造方法，需要用初始化父类成员对象的方式，比如：</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">animal</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">　　　　animal(<span class="keyword">int</span> height, <span class="keyword">int</span> weight)</span><br><span class="line">　　　　&#123;</span><br><span class="line">　　　　    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;animal construct&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">　　　　&#125;</span><br><span class="line">　　　　…</span><br><span class="line">　　&#125;;</span><br><span class="line"></span><br><span class="line">　　<span class="class"><span class="keyword">class</span> <span class="title">fish</span>:</span><span class="keyword">public</span> animal</span><br><span class="line">　　&#123;</span><br><span class="line">　　<span class="keyword">public</span>:</span><br><span class="line">　　　　fish():animal(<span class="number">400</span>,<span class="number">300</span>)</span><br><span class="line">　　　　&#123;</span><br><span class="line">　　　　　　<span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;fish construct&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">　　　　&#125;</span><br><span class="line">　　　　…</span><br><span class="line">　　&#125;;</span><br><span class="line">　　<span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function">　　</span>&#123;</span><br><span class="line">　　　　fish fh;</span><br><span class="line">　　&#125;</span><br></pre></td></tr></table></figure>

<p>在fish类的构造函数后，加一个冒号（:），然后加上父类的带参数的构造函数。这样，在子类的构造函数被调用时，系统就会去调用父类的带参数的构造函数去构造对象。这种初始化方式，还常用来对类中的常量（const）成员进行初始化，如下面的代码所示：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">point</span></span></span><br><span class="line"><span class="class">　　&#123;</span></span><br><span class="line">　　<span class="keyword">public</span>:</span><br><span class="line">　　　　 point():x(<span class="number">0</span>),y(<span class="number">0</span>)</span><br><span class="line">　　<span class="keyword">private</span>:</span><br><span class="line">　　　　 <span class="keyword">const</span> <span class="keyword">int</span> x;</span><br><span class="line">　　　　 <span class="keyword">const</span> <span class="keyword">int</span> y;</span><br><span class="line">　　&#125;;</span><br></pre></td></tr></table></figure>

<p>当然，类中普通的成员变量也可以采取此种方式进行初始化，然而，这就没有必要了。</p>

        </div>
        
        
        
    </div>
</div>









    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous is-invisible is-hidden-mobile">
            <a class="is-flex-grow has-text-black-ter" href="/tags/coding/page/0/">Previous</a>
        </div>
        <div class="pagination-next">
            <a class="is-flex-grow has-text-black-ter" href="/tags/coding/page/2/">Next</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link is-current" href="/tags/coding/">1</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/tags/coding/page/2/">2</a></li>
            
        </ul>
    </nav>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="" src="/images/avatar.png" alt="WEI Wen">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        WEI Wen
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Researcher
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Beijing, China.</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Posts
                    </p>
                    <a href="/archives">
                        <p class="title has-text-weight-normal">
                            61
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Categories
                    </p>
                    <a href="/categories">
                        <p class="title has-text-weight-normal">
                            0
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Tags
                    </p>
                    <a href="/tags">
                        <p class="title has-text-weight-normal">
                            95
                        </p>
                    </a>
                </div>
            </div>
        </nav>
        
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://facebook.com/weiwen.cn" target="_blank" rel="noopener">
                Follow</a>
        </div>
        
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Github" href="https://github.com/veslam">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Facebook" href="https://facebook.com/weiwen.cn">
                
                <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Twitter" href="https://twitter.com">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Dribbble" href="https://www.douban.com/people/WeWin/">
                
                <i class="fab fa-dribbble"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Links
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener">
                    <span class="level-left">
                        <span class="level-item">Hexo</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">hexo.io</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://github.com/ppoffice" target="_blank" rel="noopener">
                    <span class="level-left">
                        <span class="level-item">PPOffice</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">github.com</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>

    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Categories
            </h3>
            <ul class="menu-list">
            
            </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Tag Cloud
        </h3>
        <a href="/tags/AVFoundation/" style="font-size: 11.11px;">AVFoundation</a> <a href="/tags/Android/" style="font-size: 11.11px;">Android</a> <a href="/tags/Android-Studio/" style="font-size: 10px;">Android Studio</a> <a href="/tags/Beijing/" style="font-size: 10px;">Beijing</a> <a href="/tags/C/" style="font-size: 10px;">C++</a> <a href="/tags/Cocos2d/" style="font-size: 11.11px;">Cocos2d</a> <a href="/tags/Cocos2d-x/" style="font-size: 12.22px;">Cocos2d-x</a> <a href="/tags/Dairy/" style="font-size: 10px;">Dairy</a> <a href="/tags/Dalian/" style="font-size: 10px;">Dalian</a> <a href="/tags/Diamond-of-Death/" style="font-size: 10px;">Diamond of Death</a> <a href="/tags/Diary/" style="font-size: 10px;">Diary</a> <a href="/tags/Fuzhou/" style="font-size: 11.11px;">Fuzhou</a> <a href="/tags/GitHub/" style="font-size: 10px;">GitHub</a> <a href="/tags/Google-Drive/" style="font-size: 10px;">Google Drive</a> <a href="/tags/GuoGuo/" style="font-size: 14.44px;">GuoGuo</a> <a href="/tags/HIKVISION/" style="font-size: 10px;">HIKVISION</a> <a href="/tags/HackerRank/" style="font-size: 10px;">HackerRank</a> <a href="/tags/Hexo/" style="font-size: 11.11px;">Hexo</a> <a href="/tags/Huairou/" style="font-size: 10px;">Huairou</a> <a href="/tags/IDE/" style="font-size: 10px;">IDE</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/JiLi/" style="font-size: 10px;">JiLi</a> <a href="/tags/Langfang/" style="font-size: 10px;">Langfang</a> <a href="/tags/MarkdownEditing/" style="font-size: 10px;">MarkdownEditing</a> <a href="/tags/Mesa/" style="font-size: 10px;">Mesa</a> <a href="/tags/Miyun/" style="font-size: 10px;">Miyun</a> <a href="/tags/NiuNiu/" style="font-size: 13.33px;">NiuNiu</a> <a href="/tags/OJ/" style="font-size: 11.11px;">OJ</a> <a href="/tags/OpenCV/" style="font-size: 11.11px;">OpenCV</a> <a href="/tags/OpenGL/" style="font-size: 10px;">OpenGL</a> <a href="/tags/Processing/" style="font-size: 10px;">Processing</a> <a href="/tags/Qiniu/" style="font-size: 10px;">Qiniu</a> <a href="/tags/TOEFL/" style="font-size: 10px;">TOEFL</a> <a href="/tags/Tianjin/" style="font-size: 11.11px;">Tianjin</a> <a href="/tags/Visual-Studio/" style="font-size: 10px;">Visual Studio</a> <a href="/tags/VisualStudio/" style="font-size: 10px;">VisualStudio</a> <a href="/tags/Windows/" style="font-size: 11.11px;">Windows</a> <a href="/tags/Xcode/" style="font-size: 11.11px;">Xcode</a> <a href="/tags/Xiamen/" style="font-size: 12.22px;">Xiamen</a> <a href="/tags/Yanqing/" style="font-size: 10px;">Yanqing</a> <a href="/tags/badminton/" style="font-size: 10px;">badminton</a> <a href="/tags/bike/" style="font-size: 11.11px;">bike</a> <a href="/tags/binary-search/" style="font-size: 10px;">binary search</a> <a href="/tags/c/" style="font-size: 11.11px;">c++</a> <a href="/tags/cc-Label/" style="font-size: 10px;">cc.Label</a> <a href="/tags/codepen/" style="font-size: 10px;">codepen</a> <a href="/tags/coding/" style="font-size: 18.89px;">coding</a> <a href="/tags/computational-geometry/" style="font-size: 11.11px;">computational geometry</a> <a href="/tags/constructor/" style="font-size: 10px;">constructor</a> <a href="/tags/convex-hull/" style="font-size: 11.11px;">convex hull</a> <a href="/tags/cpr/" style="font-size: 10px;">cpr</a> <a href="/tags/diary/" style="font-size: 20px;">diary</a> <a href="/tags/dogs/" style="font-size: 12.22px;">dogs</a> <a href="/tags/drawing/" style="font-size: 10px;">drawing</a> <a href="/tags/driving/" style="font-size: 14.44px;">driving</a> <a href="/tags/drums/" style="font-size: 12.22px;">drums</a> <a href="/tags/dynamic-programming/" style="font-size: 10px;">dynamic programming</a> <a href="/tags/eclipse/" style="font-size: 10px;">eclipse</a> <a href="/tags/fire/" style="font-size: 10px;">fire</a> <a href="/tags/fitness/" style="font-size: 17.78px;">fitness</a> <a href="/tags/fnt/" style="font-size: 10px;">fnt</a> <a href="/tags/football/" style="font-size: 12.22px;">football</a> <a href="/tags/freeCodeCamp/" style="font-size: 11.11px;">freeCodeCamp</a> <a href="/tags/glsl/" style="font-size: 10px;">glsl</a> <a href="/tags/guitar/" style="font-size: 11.11px;">guitar</a> <a href="/tags/holiday/" style="font-size: 10px;">holiday</a> <a href="/tags/iOS/" style="font-size: 13.33px;">iOS</a> <a href="/tags/learning/" style="font-size: 10px;">learning</a> <a href="/tags/love/" style="font-size: 10px;">love</a> <a href="/tags/lua/" style="font-size: 11.11px;">lua</a> <a href="/tags/memorial-day/" style="font-size: 14.44px;">memorial day</a> <a href="/tags/movie/" style="font-size: 10px;">movie</a> <a href="/tags/multiple-inheritance/" style="font-size: 10px;">multiple inheritance</a> <a href="/tags/music/" style="font-size: 10px;">music</a> <a href="/tags/nim-game/" style="font-size: 10px;">nim game</a> <a href="/tags/party/" style="font-size: 11.11px;">party</a> <a href="/tags/photography/" style="font-size: 10px;">photography</a> <a href="/tags/piano/" style="font-size: 15.56px;">piano</a> <a href="/tags/priority-queue/" style="font-size: 10px;">priority queue</a> <a href="/tags/pthread/" style="font-size: 10px;">pthread</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/reading/" style="font-size: 10px;">reading</a> <a href="/tags/schedule/" style="font-size: 10px;">schedule</a> <a href="/tags/static-library/" style="font-size: 10px;">static library</a> <a href="/tags/subclass/" style="font-size: 10px;">subclass</a> <a href="/tags/superclass/" style="font-size: 10px;">superclass</a> <a href="/tags/svn/" style="font-size: 10px;">svn</a> <a href="/tags/targets/" style="font-size: 10px;">targets</a> <a href="/tags/tour/" style="font-size: 15.56px;">tour</a> <a href="/tags/turtles/" style="font-size: 10px;">turtles</a> <a href="/tags/tutorial/" style="font-size: 10px;">tutorial</a> <a href="/tags/video/" style="font-size: 10px;">video</a> <a href="/tags/weekend/" style="font-size: 16.67px;">weekend</a> <a href="/tags/weekly/" style="font-size: 10px;">weekly</a> <a href="/tags/work-log/" style="font-size: 10px;">work log</a>
    </div>
</div>
    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <a href="/2020/03/30/weekly-2019-03-29/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="周记-2019-03-29">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-03-29T16:11:45.000Z">2020-03-30</time></div>
                    <a href="/2020/03/30/weekly-2019-03-29/" class="title has-link-black-ter is-size-6 has-text-weight-normal">周记-2019-03-29</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/08/05/from-Langfang-to-Beijing-car-license-plate/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="小长安从廊坊迁入北京记录">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-08-05T00:42:00.000Z">2019-08-05</time></div>
                    <a href="/2019/08/05/from-Langfang-to-Beijing-car-license-plate/" class="title has-link-black-ter is-size-6 has-text-weight-normal">小长安从廊坊迁入北京记录</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2018/12/25/weekend-20181221-rebirth/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="周末20181221-重生">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-12-25T09:19:52.000Z">2018-12-25</time></div>
                    <a href="/2018/12/25/weekend-20181221-rebirth/" class="title has-link-black-ter is-size-6 has-text-weight-normal">周末20181221-重生</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2018/12/23/day-2018-12-23/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="2019新年-安排上了">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-12-23T03:05:22.000Z">2018-12-23</time></div>
                    <a href="/2018/12/23/day-2018-12-23/" class="title has-link-black-ter is-size-6 has-text-weight-normal">2019新年-安排上了</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2018/11/07/export-from-Qiniu/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="博客图片告别七牛移至GitHub">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-11-07T02:44:13.000Z">2018-11-07</time></div>
                    <a href="/2018/11/07/export-from-Qiniu/" class="title has-link-black-ter is-size-6 has-text-weight-normal">博客图片告别七牛移至GitHub</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">March 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/08/">
                <span class="level-start">
                    <span class="level-item">August 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/12/">
                <span class="level-start">
                    <span class="level-item">December 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/11/">
                <span class="level-start">
                    <span class="level-item">November 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/10/">
                <span class="level-start">
                    <span class="level-item">October 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/05/">
                <span class="level-start">
                    <span class="level-item">May 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/03/">
                <span class="level-start">
                    <span class="level-item">March 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/02/">
                <span class="level-start">
                    <span class="level-item">February 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/09/">
                <span class="level-start">
                    <span class="level-item">September 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/05/">
                <span class="level-start">
                    <span class="level-item">May 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/04/">
                <span class="level-start">
                    <span class="level-item">April 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/03/">
                <span class="level-start">
                    <span class="level-item">March 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/02/">
                <span class="level-start">
                    <span class="level-item">February 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/01/">
                <span class="level-start">
                    <span class="level-item">January 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/12/">
                <span class="level-start">
                    <span class="level-item">December 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/11/">
                <span class="level-start">
                    <span class="level-item">November 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">7</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/10/">
                <span class="level-start">
                    <span class="level-item">October 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/09/">
                <span class="level-start">
                    <span class="level-item">September 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/08/">
                <span class="level-start">
                    <span class="level-item">August 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">9</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/07/">
                <span class="level-start">
                    <span class="level-item">July 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Tags
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/AVFoundation/">
                        <span class="tag">AVFoundation</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android/">
                        <span class="tag">Android</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android-Studio/">
                        <span class="tag">Android Studio</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Beijing/">
                        <span class="tag">Beijing</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/C/">
                        <span class="tag">C++</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Cocos2d/">
                        <span class="tag">Cocos2d</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Cocos2d-x/">
                        <span class="tag">Cocos2d-x</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Dairy/">
                        <span class="tag">Dairy</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Dalian/">
                        <span class="tag">Dalian</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Diamond-of-Death/">
                        <span class="tag">Diamond of Death</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Diary/">
                        <span class="tag">Diary</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Fuzhou/">
                        <span class="tag">Fuzhou</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/GitHub/">
                        <span class="tag">GitHub</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Google-Drive/">
                        <span class="tag">Google Drive</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/GuoGuo/">
                        <span class="tag">GuoGuo</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/HIKVISION/">
                        <span class="tag">HIKVISION</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/HackerRank/">
                        <span class="tag">HackerRank</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Hexo/">
                        <span class="tag">Hexo</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Huairou/">
                        <span class="tag">Huairou</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IDE/">
                        <span class="tag">IDE</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JavaScript/">
                        <span class="tag">JavaScript</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JiLi/">
                        <span class="tag">JiLi</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Langfang/">
                        <span class="tag">Langfang</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MarkdownEditing/">
                        <span class="tag">MarkdownEditing</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Mesa/">
                        <span class="tag">Mesa</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Miyun/">
                        <span class="tag">Miyun</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/NiuNiu/">
                        <span class="tag">NiuNiu</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OJ/">
                        <span class="tag">OJ</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OpenCV/">
                        <span class="tag">OpenCV</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OpenGL/">
                        <span class="tag">OpenGL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Processing/">
                        <span class="tag">Processing</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Qiniu/">
                        <span class="tag">Qiniu</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/TOEFL/">
                        <span class="tag">TOEFL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Tianjin/">
                        <span class="tag">Tianjin</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Visual-Studio/">
                        <span class="tag">Visual Studio</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/VisualStudio/">
                        <span class="tag">VisualStudio</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Windows/">
                        <span class="tag">Windows</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Xcode/">
                        <span class="tag">Xcode</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Xiamen/">
                        <span class="tag">Xiamen</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Yanqing/">
                        <span class="tag">Yanqing</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/badminton/">
                        <span class="tag">badminton</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/bike/">
                        <span class="tag">bike</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/binary-search/">
                        <span class="tag">binary search</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/c/">
                        <span class="tag">c++</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/cc-Label/">
                        <span class="tag">cc.Label</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/codepen/">
                        <span class="tag">codepen</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/coding/">
                        <span class="tag">coding</span>
                        <span class="tag is-grey">13</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/computational-geometry/">
                        <span class="tag">computational geometry</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/constructor/">
                        <span class="tag">constructor</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/convex-hull/">
                        <span class="tag">convex hull</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/cpr/">
                        <span class="tag">cpr</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/diary/">
                        <span class="tag">diary</span>
                        <span class="tag is-grey">22</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/dogs/">
                        <span class="tag">dogs</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/drawing/">
                        <span class="tag">drawing</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/driving/">
                        <span class="tag">driving</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/drums/">
                        <span class="tag">drums</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/dynamic-programming/">
                        <span class="tag">dynamic programming</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/eclipse/">
                        <span class="tag">eclipse</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/fire/">
                        <span class="tag">fire</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/fitness/">
                        <span class="tag">fitness</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/fnt/">
                        <span class="tag">fnt</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/football/">
                        <span class="tag">football</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/freeCodeCamp/">
                        <span class="tag">freeCodeCamp</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/glsl/">
                        <span class="tag">glsl</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/guitar/">
                        <span class="tag">guitar</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/holiday/">
                        <span class="tag">holiday</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/iOS/">
                        <span class="tag">iOS</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/learning/">
                        <span class="tag">learning</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/love/">
                        <span class="tag">love</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/lua/">
                        <span class="tag">lua</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/memorial-day/">
                        <span class="tag">memorial day</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/movie/">
                        <span class="tag">movie</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/multiple-inheritance/">
                        <span class="tag">multiple inheritance</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/music/">
                        <span class="tag">music</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/nim-game/">
                        <span class="tag">nim game</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/party/">
                        <span class="tag">party</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/photography/">
                        <span class="tag">photography</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/piano/">
                        <span class="tag">piano</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/priority-queue/">
                        <span class="tag">priority queue</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/pthread/">
                        <span class="tag">pthread</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/python/">
                        <span class="tag">python</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/reading/">
                        <span class="tag">reading</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/schedule/">
                        <span class="tag">schedule</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/static-library/">
                        <span class="tag">static library</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/subclass/">
                        <span class="tag">subclass</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/superclass/">
                        <span class="tag">superclass</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/svn/">
                        <span class="tag">svn</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/targets/">
                        <span class="tag">targets</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/tour/">
                        <span class="tag">tour</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/turtles/">
                        <span class="tag">turtles</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/tutorial/">
                        <span class="tag">tutorial</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/video/">
                        <span class="tag">video</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/weekend/">
                        <span class="tag">weekend</span>
                        <span class="tag is-grey">8</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/weekly/">
                        <span class="tag">weekly</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/work-log/">
                        <span class="tag">work log</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <a href="/2020/03/30/weekly-2019-03-29/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="周记-2019-03-29">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-03-29T16:11:45.000Z">2020-03-30</time></div>
                    <a href="/2020/03/30/weekly-2019-03-29/" class="title has-link-black-ter is-size-6 has-text-weight-normal">周记-2019-03-29</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/08/05/from-Langfang-to-Beijing-car-license-plate/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="小长安从廊坊迁入北京记录">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-08-05T00:42:00.000Z">2019-08-05</time></div>
                    <a href="/2019/08/05/from-Langfang-to-Beijing-car-license-plate/" class="title has-link-black-ter is-size-6 has-text-weight-normal">小长安从廊坊迁入北京记录</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2018/12/25/weekend-20181221-rebirth/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="周末20181221-重生">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-12-25T09:19:52.000Z">2018-12-25</time></div>
                    <a href="/2018/12/25/weekend-20181221-rebirth/" class="title has-link-black-ter is-size-6 has-text-weight-normal">周末20181221-重生</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2018/12/23/day-2018-12-23/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="2019新年-安排上了">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-12-23T03:05:22.000Z">2018-12-23</time></div>
                    <a href="/2018/12/23/day-2018-12-23/" class="title has-link-black-ter is-size-6 has-text-weight-normal">2019新年-安排上了</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2018/11/07/export-from-Qiniu/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="博客图片告别七牛移至GitHub">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-11-07T02:44:13.000Z">2018-11-07</time></div>
                    <a href="/2018/11/07/export-from-Qiniu/" class="title has-link-black-ter is-size-6 has-text-weight-normal">博客图片告别七牛移至GitHub</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">March 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/08/">
                <span class="level-start">
                    <span class="level-item">August 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/12/">
                <span class="level-start">
                    <span class="level-item">December 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/11/">
                <span class="level-start">
                    <span class="level-item">November 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/10/">
                <span class="level-start">
                    <span class="level-item">October 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/05/">
                <span class="level-start">
                    <span class="level-item">May 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/03/">
                <span class="level-start">
                    <span class="level-item">March 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/02/">
                <span class="level-start">
                    <span class="level-item">February 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/09/">
                <span class="level-start">
                    <span class="level-item">September 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/05/">
                <span class="level-start">
                    <span class="level-item">May 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/04/">
                <span class="level-start">
                    <span class="level-item">April 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/03/">
                <span class="level-start">
                    <span class="level-item">March 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/02/">
                <span class="level-start">
                    <span class="level-item">February 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/01/">
                <span class="level-start">
                    <span class="level-item">January 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/12/">
                <span class="level-start">
                    <span class="level-item">December 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/11/">
                <span class="level-start">
                    <span class="level-item">November 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">7</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/10/">
                <span class="level-start">
                    <span class="level-item">October 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/09/">
                <span class="level-start">
                    <span class="level-item">September 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/08/">
                <span class="level-start">
                    <span class="level-item">August 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">9</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/07/">
                <span class="level-start">
                    <span class="level-item">July 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Tags
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/AVFoundation/">
                        <span class="tag">AVFoundation</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android/">
                        <span class="tag">Android</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android-Studio/">
                        <span class="tag">Android Studio</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Beijing/">
                        <span class="tag">Beijing</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/C/">
                        <span class="tag">C++</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Cocos2d/">
                        <span class="tag">Cocos2d</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Cocos2d-x/">
                        <span class="tag">Cocos2d-x</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Dairy/">
                        <span class="tag">Dairy</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Dalian/">
                        <span class="tag">Dalian</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Diamond-of-Death/">
                        <span class="tag">Diamond of Death</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Diary/">
                        <span class="tag">Diary</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Fuzhou/">
                        <span class="tag">Fuzhou</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/GitHub/">
                        <span class="tag">GitHub</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Google-Drive/">
                        <span class="tag">Google Drive</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/GuoGuo/">
                        <span class="tag">GuoGuo</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/HIKVISION/">
                        <span class="tag">HIKVISION</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/HackerRank/">
                        <span class="tag">HackerRank</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Hexo/">
                        <span class="tag">Hexo</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Huairou/">
                        <span class="tag">Huairou</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IDE/">
                        <span class="tag">IDE</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JavaScript/">
                        <span class="tag">JavaScript</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JiLi/">
                        <span class="tag">JiLi</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Langfang/">
                        <span class="tag">Langfang</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MarkdownEditing/">
                        <span class="tag">MarkdownEditing</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Mesa/">
                        <span class="tag">Mesa</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Miyun/">
                        <span class="tag">Miyun</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/NiuNiu/">
                        <span class="tag">NiuNiu</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OJ/">
                        <span class="tag">OJ</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OpenCV/">
                        <span class="tag">OpenCV</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OpenGL/">
                        <span class="tag">OpenGL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Processing/">
                        <span class="tag">Processing</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Qiniu/">
                        <span class="tag">Qiniu</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/TOEFL/">
                        <span class="tag">TOEFL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Tianjin/">
                        <span class="tag">Tianjin</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Visual-Studio/">
                        <span class="tag">Visual Studio</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/VisualStudio/">
                        <span class="tag">VisualStudio</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Windows/">
                        <span class="tag">Windows</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Xcode/">
                        <span class="tag">Xcode</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Xiamen/">
                        <span class="tag">Xiamen</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Yanqing/">
                        <span class="tag">Yanqing</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/badminton/">
                        <span class="tag">badminton</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/bike/">
                        <span class="tag">bike</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/binary-search/">
                        <span class="tag">binary search</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/c/">
                        <span class="tag">c++</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/cc-Label/">
                        <span class="tag">cc.Label</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/codepen/">
                        <span class="tag">codepen</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/coding/">
                        <span class="tag">coding</span>
                        <span class="tag is-grey">13</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/computational-geometry/">
                        <span class="tag">computational geometry</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/constructor/">
                        <span class="tag">constructor</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/convex-hull/">
                        <span class="tag">convex hull</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/cpr/">
                        <span class="tag">cpr</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/diary/">
                        <span class="tag">diary</span>
                        <span class="tag is-grey">22</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/dogs/">
                        <span class="tag">dogs</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/drawing/">
                        <span class="tag">drawing</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/driving/">
                        <span class="tag">driving</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/drums/">
                        <span class="tag">drums</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/dynamic-programming/">
                        <span class="tag">dynamic programming</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/eclipse/">
                        <span class="tag">eclipse</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/fire/">
                        <span class="tag">fire</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/fitness/">
                        <span class="tag">fitness</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/fnt/">
                        <span class="tag">fnt</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/football/">
                        <span class="tag">football</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/freeCodeCamp/">
                        <span class="tag">freeCodeCamp</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/glsl/">
                        <span class="tag">glsl</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/guitar/">
                        <span class="tag">guitar</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/holiday/">
                        <span class="tag">holiday</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/iOS/">
                        <span class="tag">iOS</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/learning/">
                        <span class="tag">learning</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/love/">
                        <span class="tag">love</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/lua/">
                        <span class="tag">lua</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/memorial-day/">
                        <span class="tag">memorial day</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/movie/">
                        <span class="tag">movie</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/multiple-inheritance/">
                        <span class="tag">multiple inheritance</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/music/">
                        <span class="tag">music</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/nim-game/">
                        <span class="tag">nim game</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/party/">
                        <span class="tag">party</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/photography/">
                        <span class="tag">photography</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/piano/">
                        <span class="tag">piano</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/priority-queue/">
                        <span class="tag">priority queue</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/pthread/">
                        <span class="tag">pthread</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/python/">
                        <span class="tag">python</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/reading/">
                        <span class="tag">reading</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/schedule/">
                        <span class="tag">schedule</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/static-library/">
                        <span class="tag">static library</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/subclass/">
                        <span class="tag">subclass</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/superclass/">
                        <span class="tag">superclass</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/svn/">
                        <span class="tag">svn</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/targets/">
                        <span class="tag">targets</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/tour/">
                        <span class="tag">tour</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/turtles/">
                        <span class="tag">turtles</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/tutorial/">
                        <span class="tag">tutorial</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/video/">
                        <span class="tag">video</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/weekend/">
                        <span class="tag">weekend</span>
                        <span class="tag is-grey">8</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/weekly/">
                        <span class="tag">weekly</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/work-log/">
                        <span class="tag">work log</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.png" alt="weiwen🐟1990" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2021 WEI Wen&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en");</script>


<script>
var IcarusThemeSettings = {
    site: {
        url: 'http://weiwen.ai',
        external_link: {"enable":true,"exclude":[]}
    },
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>





<script src="/js/animation.js"></script>



<script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
<script src="/js/gallery.js" defer></script>



<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>


<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>














<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>